import{_ as T}from"./AppLayout.30446c2a.js";import{P as H}from"./Pagination.350236bf.js";import{s as E}from"./vue-color-kit.70f1551a.js";import{_ as S,r as l,a3 as P,o as i,e as c,b as o,a as r,n as B,a2 as C,s as V,j as w,w as b,g as j,t as a,C as x,S as L,U as N,F as O,u as I,N as G,i as J,c as $}from"./app.a8c62306.js";import{r as K}from"./PencilSquareIcon.3662308a.js";import{r as Q}from"./EyeIcon.7db4b25c.js";import{r as R}from"./TrashIcon.bed83066.js";import{s as W}from"./multiselect.bac726f6.js";/* empty css                */import"./TopBarMenu.5a606a0f.js";import"./CheckCircleIcon.ced170f0.js";import"./shepherd.esm.fc881b59.js";import"./XMarkIcon.2b6555c7.js";import"./WarningToast.ec32bda2.js";import"./NavLink.c7845e12.js";import"./PlusCircleIcon.b89fcf0b.js";import"./UserIcon.8f94aca1.js";import"./Bars3Icon.047e873b.js";const X={components:{ColorPicker:E},props:{classes:Object},data(){return{loading:!1,courses_options:[],form:{class:"",name:"",color:"#FF1900"},isOpenColorPicker:!1,isSucking:!0,swatches:["#1A535C","#C93737","#E5940E","#9F9F0F","#588157","#00A300","#169494","#1E68B1","#0E0E96","#6717B7","#AE14AE","#D00053","#283618","#5E6D81"]}},created(){var e;for(const[t,n]of Object.entries(this.classes))this.courses_options.push({value:n.id,label:n.name});this.form.class=(e=this.courses_options[0])==null?void 0:e.value},methods:{submit(){this.loading=!0,this.$inertia.post(this.route("subjects.store"),this.form,{onSuccess:e=>{this.$inertia.get(this.route("subjects.index"))},onFinish:e=>{this.loading=!1}})},changeColor(e){this.form.color=e.hex},changeEditColor(e){this.courseInfo.color=e.hex}}},Y=e=>(L("data-v-8b6965f7"),e=e(),N(),e),Z={class:"w-full"},ee={class:"mb-3"},oe={class:"mb-3"},se={class:"mb-4"},te={class:"flex items-center"},re={class:"w-full relative"},le={class:"relative ml-3"},ne=Y(()=>o("svg",{class:"w-6 h-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[o("path",{fill:"none",d:"M15.584 10.001L13.998 8.417 5.903 16.512 5.374 18.626 7.488 18.097z"}),o("path",{d:"M4.03,15.758l-1,4c-0.086,0.341,0.015,0.701,0.263,0.949C3.482,20.896,3.738,21,4,21c0.081,0,0.162-0.01,0.242-0.03l4-1 c0.176-0.044,0.337-0.135,0.465-0.263l8.292-8.292l1.294,1.292l1.414-1.414l-1.294-1.292L21,7.414 c0.378-0.378,0.586-0.88,0.586-1.414S21.378,4.964,21,4.586L19.414,3c-0.756-0.756-2.072-0.756-2.828,0l-2.589,2.589l-1.298-1.296 l-1.414,1.414l1.298,1.296l-8.29,8.29C4.165,15.421,4.074,15.582,4.03,15.758z M5.903,16.512l8.095-8.095l1.586,1.584 l-8.096,8.096l-2.114,0.529L5.903,16.512z"})],-1)),ie=[ne],ce={key:0,class:"origin-top-right absolute right-16 mt-2 w-40 rounded-md shadow-lg"},ae={class:"rounded-md bg-white shadow-xs px-4 py-3"},ue={class:"flex flex-wrap -mx-2"};function de(e,t,n,F,s,u){const d=l("global-label"),f=l("a-select"),_=l("input-error"),g=l("global-input"),k=l("ColorPicker"),v=l("global-button"),y=P("click-outside");return i(),c("form",{onSubmit:t[4]||(t[4]=x(p=>u.submit(),["prevent"])),class:"p-6 dark:bg-gray-800 dark:text-gray-400"},[o("div",Z,[o("div",ee,[r(d,{for:"class",value:"Select Course",required:!1}),r(f,{class:B([e.$page.props.errors.class?"border-custom ":"","width-100"]),size:"large",value:s.form.class,"onUpdate:value":t[0]||(t[0]=p=>s.form.class=p),"show-search":"",placeholder:e.__("Select a sections"),options:s.courses_options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),r(_,{error:e.$page.props.errors.class},null,8,["error"])]),o("div",oe,[r(d,{for:"name",value:"Name",required:!1}),r(g,{modelValue:s.form.name,"onUpdate:modelValue":t[1]||(t[1]=p=>s.form.name=p),type:"text",id:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),r(_,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",se,[r(d,{for:"name",value:e.__("Color"),required:!1},null,8,["value"]),o("div",te,[o("div",re,[r(g,{type:"text",id:"color",modelValue:s.form.color,"onUpdate:modelValue":t[2]||(t[2]=p=>s.form.color=p),class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.color},null,8,["modelValue","placeholder","error"]),o("div",{class:"w-10 h-[42px] rounded-r absolute top-1 right-0",style:C(`background: ${s.form.color}; color: white`)},null,4)]),o("div",le,[o("button",{type:"button",onClick:t[3]||(t[3]=p=>s.isOpenColorPicker=!s.isOpenColorPicker),class:"w-10 h-10 rounded-full focus:outline-none focus:shadow-outline inline-flex p-2 shadow",style:C(`background: ${s.form.color}; color: white`)},ie,4),s.isOpenColorPicker?V((i(),c("div",ce,[o("div",ae,[o("div",ue,[r(k,{theme:"dark",color:s.form.color,"sucker-hide":!0,onChangeColor:u.changeColor,onOpenSucker:e.openSucker,"colors-default":s.swatches},null,8,["color","onChangeColor","onOpenSucker","colors-default"])])])])),[[y,()=>s.isOpenColorPicker=!1]]):w("",!0)])])])]),r(v,{loading:s.loading,type:"submit",theme:"primary"},{default:b(()=>[j(a(e.__("Save")),1)]),_:1},8,["loading"])],32)}const pe=S(X,[["render",de],["__scopeId","data-v-8b6965f7"]]),_e={components:{PencilSquareIcon:K,EyeIcon:Q,TrashIcon:R},props:{subject:Object},data(){return{visible:!1,show_subject:""}},methods:{destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("subjects.destroy",e));else return!1},edit(e){this.$emit("edit",e)},show(e){this.show_subject=e,this.visible=!0},hide(e){this.visible=!1}}},me={class:"flex justify-between px-6 pt-6 pb-2.5"},he={class:"text-gray-900 dark:text-gray-400"},be={class:"flex gap-2"},fe=["id"],ge=["id"],ve=o("hr",{class:"dark:border-gray-700"},null,-1),ke={class:"px-6 pt-4 pb-6 dark:text-gray-400"},ye={class:"dark:text-gray-400"};function we(e,t,n,F,s,u){const d=l("PencilSquareIcon"),f=l("trash-icon");return i(),c(O,null,[o("div",me,[o("h2",he,a(n.subject.name),1),o("div",be,[o("div",null,[o("button",{onClick:t[0]||(t[0]=_=>u.edit(n.subject)),id:"editSubject"+n.subject.id},[r(d,{class:"w-6 h-6 text-blue-400"})],8,fe)]),o("form",{onSubmit:t[1]||(t[1]=x(_=>u.destroy(n.subject.id),["prevent"]))},[o("button",{type:"submit",id:"deleteSubject"+n.subject.id},[r(f,{class:"w-6 h-6 text-red-400"})],8,ge)],32)])]),ve,o("div",ke,[o("h2",ye,[j(a(e.__("Course"))+": ",1),o("span",null,a(n.subject.course?n.subject.course.name:""),1)]),o("p",null,a(e.__("Created At"))+": "+a(e.formatTime(n.subject.created_at)),1),o("div",{class:"w-full h-2",style:C(`background-color: ${n.subject.color}`)},null,4)])],64)}const Ce=S(_e,[["render",we]]);const je={components:{ColorPicker:E},props:{subject:Object,classes:Object},data(){return{courses_options:[],form:I({course:this.subject.course_id,name:this.subject.name,color:this.subject.color,_method:"PUT"}),isOpenColorPicker:!1,isSucking:!0,swatches:["#1A535C","#C93737","#E5940E","#9F9F0F","#588157","#00A300","#169494","#1E68B1","#0E0E96","#6717B7","#AE14AE","#D00053","#283618","#5E6D81"]}},created(){for(const[e,t]of Object.entries(this.classes))this.courses_options.push({value:t.id,label:t.name})},watch:{subject:{deep:!0,handler(e,t){this.form.course=e.course_id,this.form.name=e.name,this.form.color=e.color}}},methods:{submit(){this.form.post(this.route("subjects.update",this.subject.id),{onSuccess:e=>{this.$inertia.get(this.route("subjects.index"))}})},changeColor(e){this.form.color=e.hex},changeEditColor(e){this.courseInfo.color=e.hex}}},A=e=>(L("data-v-3b851ce7"),e=e(),N(),e),Se={class:"w-full"},xe={class:"mb-3"},Fe={class:"mb-3"},Oe={class:"mb-4"},$e={class:"flex items-center"},Ee={class:"w-full relative"},Pe={class:"relative ml-3"},Be=A(()=>o("svg",{class:"w-6 h-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[o("path",{fill:"none",d:"M15.584 10.001L13.998 8.417 5.903 16.512 5.374 18.626 7.488 18.097z"}),o("path",{d:"M4.03,15.758l-1,4c-0.086,0.341,0.015,0.701,0.263,0.949C3.482,20.896,3.738,21,4,21c0.081,0,0.162-0.01,0.242-0.03l4-1 c0.176-0.044,0.337-0.135,0.465-0.263l8.292-8.292l1.294,1.292l1.414-1.414l-1.294-1.292L21,7.414 c0.378-0.378,0.586-0.88,0.586-1.414S21.378,4.964,21,4.586L19.414,3c-0.756-0.756-2.072-0.756-2.828,0l-2.589,2.589l-1.298-1.296 l-1.414,1.414l1.298,1.296l-8.29,8.29C4.165,15.421,4.074,15.582,4.03,15.758z M5.903,16.512l8.095-8.095l1.586,1.584 l-8.096,8.096l-2.114,0.529L5.903,16.512z"})],-1)),Ve=[Be],Le={key:0,class:"origin-top-right absolute right-16 mt-2 w-40 rounded-md shadow-lg"},Ne={class:"rounded-md bg-white shadow-xs px-4 py-3"},Ie={class:"flex flex-wrap -mx-2"},Ae={class:"flex gap-2"},Ue=A(()=>o("br",null,null,-1));function qe(e,t,n,F,s,u){const d=l("global-label"),f=l("a-select"),_=l("input-error"),g=l("global-input"),k=l("ColorPicker"),v=l("global-button"),y=l("Link"),p=P("click-outside");return i(),c("form",{onSubmit:t[4]||(t[4]=x(m=>u.submit(),["prevent"])),class:"p-6 dark:bg-gray-800 dark:text-gray-400"},[o("div",Se,[o("div",xe,[r(d,{for:"class",value:"Select Course",required:!1}),r(f,{class:B([e.$page.props.errors.class?"border-custom ":"","width-100"]),size:"large",value:s.form.course,"onUpdate:value":t[0]||(t[0]=m=>s.form.course=m),"show-search":"",placeholder:e.__("Select Course"),options:s.courses_options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),r(_,{error:e.$page.props.errors.class},null,8,["error"])]),o("div",Fe,[r(d,{for:"name",value:"Name",required:!1}),r(g,{modelValue:s.form.name,"onUpdate:modelValue":t[1]||(t[1]=m=>s.form.name=m),type:"text",id:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),r(_,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",Oe,[r(d,{for:"name",value:"Color",required:!1}),o("div",$e,[o("div",Ee,[r(g,{type:"text",id:"color",modelValue:s.form.color,"onUpdate:modelValue":t[2]||(t[2]=m=>s.form.color=m),class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.color},null,8,["modelValue","placeholder","error"]),o("div",{class:"w-10 h-[42px] rounded-r absolute top-1 right-0",style:C(`background: ${s.form.color}; color: white`)},null,4)]),o("div",Pe,[o("button",{type:"button",onClick:t[3]||(t[3]=m=>s.isOpenColorPicker=!s.isOpenColorPicker),class:"w-10 h-10 rounded-full focus:outline-none focus:shadow-outline inline-flex p-2 shadow",style:C(`background: ${s.form.color}; color: white`)},Ve,4),s.isOpenColorPicker?V((i(),c("div",Le,[o("div",Ne,[o("div",Ie,[r(k,{theme:"dark",color:s.form.color,"sucker-hide":!0,onChangeColor:u.changeColor,onOpenSucker:e.openSucker,"colors-default":s.swatches},null,8,["color","onChangeColor","onOpenSucker","colors-default"])])])])),[[p,()=>s.isOpenColorPicker=!1]]):w("",!0)])])])]),o("div",Ae,[r(v,{loading:s.form.processing,type:"submit",theme:"primary"},{default:b(()=>[j(a(e.__("Update")),1)]),_:1},8,["loading"]),r(y,{"preserve-scroll":"",href:e.route("subjects.index"),class:"hover:text-gray-500"},{default:b(()=>[r(v,{loading:!1,type:"button",theme:"outline-danger"},{default:b(()=>[j(a(e.__("Cancel")),1)]),_:1})]),_:1},8,["href"])]),Ue],32)}const ze=S(je,[["render",qe],["__scopeId","data-v-3b851ce7"]]),Me={components:{Multiselect:W,NothingFound:G,Pagination:H,AppLayout:T,SingleSubject:Ce,CreateForm:pe,UpdateForm:ze},props:{subjects:Object,errors:Object,classes:Object,query:Object},data(){var e;return{filter:I({course_id:(e=this.query.course_id)!=null?e:null}),update:!1,subject:""}},methods:{edit(e){this.subject=e,this.update=!0},filterData(){this.filter.get(this.route("subjects.index"),{preserveScroll:!0})}}},De={class:"pb-12"},Te={class:"dark:text-gray-400"},He={key:0,class:"mb-3"},Ge={class:"lg:w-1/4 sm:w-1/3 w-full"},Je={class:"inline-flex lg:w-1/4 sm:w-1/3 w-full"},Ke={class:"grid gap-6 grid-cols-1 xl:grid-cols-4 md:grid-cols-2"},Qe={class:"col-span-1 xl:col-span-3 auto-rows-min"},Re={key:0},We={class:"grid gap-6 grid-cols-1 xl:grid-cols-3"},Xe={key:1,class:"text-center card bg-white dark:bg-gray-800 dark:text-white"},Ye={class:"flex justify-center px-6 pt-6 pb-2.5"},Ze={class:"text-gray-900 dark:text-gray-400"},eo={class:"flex justify-center"},oo={class:"bg-white rounded-lg dark:bg-gray-800"},so={class:"p-3.5 text-gray-900 dark:text-gray-400 text-base font-bold"},to={key:0},ro={class:"flex justify-between"},lo={key:1},no=o("hr",{class:"dark:border-gray-700"},null,-1);function io(e,t,n,F,s,u){const d=l("Head"),f=l("BreadcrumbLink"),_=l("Breadcrumb"),g=l("page-header"),k=l("global-label"),v=l("Multiselect"),y=l("global-button"),p=l("single-subject"),m=l("NothingFound"),U=l("pagination"),q=l("create-form"),z=l("update-form"),M=l("AppLayout");return i(),c(O,null,[r(d,{title:e.__("Subject List")},null,8,["title"]),r(M,null,{default:b(()=>[r(_,null,{default:b(()=>[r(f,{title:e.__("Subject")},null,8,["title"])]),_:1}),o("div",De,[r(g,null,{default:b(()=>[o("div",Te,a(e.__("Subject")),1)]),_:1}),n.subjects.data.length>0?(i(),c("div",He,[o("form",{class:"flex gap-6 sm:items-end flex-col sm:flex-row",onSubmit:t[1]||(t[1]=x(h=>u.filterData(),["prevent"]))},[o("div",Ge,[r(k,{for:"class",value:"Course",required:!1}),r(v,{id:"class","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:s.filter.course_id,"onUpdate:modelValue":t[0]||(t[0]=h=>s.filter.course_id=h),"create-option":!1,placeholder:e.__("Select Course"),options:n.classes.map(h=>({value:h.id,label:h.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),o("div",Je,[r(y,{loading:s.filter.processing,type:"submit",theme:"primary"},{default:b(()=>[j(a(e.__("Filter Search")),1)]),_:1},8,["loading"])])],32)])):w("",!0),o("div",Ke,[o("div",Qe,[n.subjects.data.length>0?(i(),c("div",Re,[o("div",We,[(i(!0),c(O,null,J(n.subjects.data,(h,D)=>(i(),c("div",{class:"card bg-white rounded-lg dark:bg-gray-800 dark:text-gray-400",key:D},[r(p,{onEdit:co=>u.edit(h),subject:h},null,8,["onEdit","subject"])]))),128))])])):(i(),c("div",Xe,[o("div",Ye,[o("h2",Ze,[r(m,{asShow:"div"})])])])),o("div",null,[o("div",eo,[r(U,{class:"mt-6",links:n.subjects.links},null,8,["links"])])])]),o("div",null,[o("div",oo,[o("h2",so,[s.update?(i(),c("span",to,[o("div",ro,[o("div",null,a(e.__("Update Subject")),1)])])):(i(),c("span",lo,a(e.__("Create New Subject")),1))]),no,s.update?w("",!0):(i(),$(q,{key:0,classes:n.classes},null,8,["classes"])),s.update?(i(),$(z,{key:1,classes:n.classes,subject:s.subject},null,8,["classes","subject"])):w("",!0)])])])])]),_:1})],64)}const Oo=S(Me,[["render",io]]);export{Oo as default};
