import{_ as R}from"./AppLayout.30446c2a.js";import{T as P}from"./ToolTip.50eaa330.js";import{P as T}from"./Pagination.350236bf.js";import U from"./Show.d0f7ac7c.js";import{_ as G,N as X,o as d,c as C,w as r,a as s,b as t,g as u,t as l,j as f,e as h,C as x,i as q,F as b,r as n}from"./app.a8c62306.js";import{r as z}from"./PencilSquareIcon.3662308a.js";import{r as K}from"./EyeIcon.7db4b25c.js";import{r as H}from"./CheckIcon.10b6a0c2.js";import{r as J}from"./XMarkIcon.2b6555c7.js";import{r as Q}from"./MagnifyingGlassIcon.c61ed839.js";import"./TopBarMenu.5a606a0f.js";import"./CheckCircleIcon.ced170f0.js";import"./shepherd.esm.fc881b59.js";import"./WarningToast.ec32bda2.js";import"./NavLink.c7845e12.js";import"./PlusCircleIcon.b89fcf0b.js";import"./UserIcon.8f94aca1.js";import"./Bars3Icon.047e873b.js";import"./Square3Stack3DIcon.3c3c03df.js";const W={components:{AppLayout:R,ToolTip:P,PencilSquareIcon:z,Pagination:T,EyeIcon:K,CheckIcon:H,XMarkIcon:J,ShowModal:U,MagnifyingGlassIcon:Q,NothingFound:X},props:{admission_requests:Array,users:Array,filter_data:Object,classes:Object},data(){var e,o;return{loading:!1,show_admission:"",visibleAdmission:!1,options:[],options2:[],filter:{keyword:(e=this.filter_data.keyword)!=null?e:null,course:(o=this.filter_data.course)!=null?o:null}}},methods:{filterData(){this.loading=!0,this.$inertia.get(this.route("student.admission.index"),this.filter,{preserveScroll:!0,onFinish:e=>{this.loading=!1}})},filterOption(e,o){return o.label.toLowerCase().indexOf(e.toLowerCase())>=0},destroy(e){if(confirm("Are you sure to reject the request?"))this.$inertia.delete(this.route("student.admission.request.reject",e));else return!1},show(e){this.show_admission=e,this.visible=!0},hide(e){this.visible=!1}},created(){this.options.push({value:"",label:"All"});for(const[e,o]of Object.entries(this.classes))this.options.push({value:o.slug,label:o.name})},methods:{destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("users.destroy",e));else return!1},destroyAdmission(e){if(confirm("Are you sure to reject the request?"))this.$inertia.delete(this.route("student.admission.request.reject",e));else return!1},show(e){this.show_user=e,this.visible=!0},hide(e){this.visible=!1},showAdmission(e){this.show_admission=e,this.visibleAdmission=!0},hideAdmission(e){this.visibleAdmission=!1},filterData(){this.loading=!0,this.$inertia.get(this.route("student.admission.index"),this.filter,{preserveScroll:!0,onFinish:e=>{this.loading=!1}})},filterOption(e,o){return o.label.toLowerCase().indexOf(e.toLowerCase())>=0},sendMail(e){this.$inertia.post(this.route("student.send.mail"),{user:e})}}},Y={class:"flex flex-col sm:flex-row gap-4"},Z={key:0,class:"mb-4"},$={class:"flex col-span-2"},ee={class:"relative w-full"},se={type:"submit",class:"absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},te={class:"sr-only"},oe={class:"col-span-2"},ie={class:"col-span-1"},ne={class:"py-5 px-5 whitespace-nowrap"},re={class:"py-5 px-5 whitespace-nowrap"},le={class:"py-5 px-5 whitespace-nowrap"},ae={width:"10%",class:"py-5 px-5 whitespace-nowrap"},de={scope:"row",class:"flex items-center py-5 px-5 text-gray-900 whitespace-nowrap dark:text-white"},ue={class:"pl-3"},ce={class:"text-base font-semibold dark:text-gray-400"},he={class:"font-normal text-gray-500 dark:text-gray-400"},me={class:"py-5"},pe={class:"py-5"},_e={class:"py-5 flex gap-2"},fe=["onClick"],be={key:1},ge={colspan:"6",class:"text-center p-4"};function ye(e,o,m,ke,a,c){const I=n("BreadcrumbLink"),S=n("Breadcrumb"),p=n("global-button"),B=n("page-header"),L=n("global-input"),O=n("MagnifyingGlassIcon"),F=n("a-select"),j=n("EyeIcon"),_=n("tool-tip"),g=n("Link"),M=n("CheckIcon"),N=n("XMarkIcon"),D=n("NothingFound"),V=n("global-table"),y=n("a-button"),k=n("show-modal"),v=n("a-modal"),E=n("AppLayout");return d(),C(E,{title:e.__("Student Admission")},{default:r(()=>[s(S,null,{default:r(()=>[s(I,{title:e.__("Student Admission")},null,8,["title"])]),_:1}),t("div",null,[s(B,{class:"flex-col sm:flex-row"},{content:r(()=>[t("div",Y,[e.can("bulk.admission")?(d(),C(p,{key:0,"preserve-scroll":"",loading:!1,url:e.route("student.bulk.admission"),type:"link",theme:"secondary"},{default:r(()=>[u(l(e.__("Bulk Admission")),1)]),_:1},8,["url"])):f("",!0),s(p,{loading:!1,"preserve-scroll":"",type:"link",url:e.route("student.admission.create"),theme:"primary"},{default:r(()=>[u(l(e.__("New Admission")),1)]),_:1},8,["url"])])]),default:r(()=>[u(l(e.__("Student Admission Request"))+" ",1)]),_:1}),m.admission_requests.length>0?(d(),h("div",Z,[t("form",{class:"items-center grid grid-cols-1 md:grid-cols-7 gap-6",onSubmit:o[2]||(o[2]=x(i=>c.filterData(),["prevent"]))},[t("div",$,[t("div",ee,[s(L,{type:"search",modelValue:a.filter.keyword,"onUpdate:modelValue":o[0]||(o[0]=i=>a.filter.keyword=i),class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword")},null,8,["modelValue","placeholder"]),t("button",se,[s(O,{class:"w-5 h-5"}),t("span",te,l(e.__("Search")),1)])])]),t("div",oe,[s(F,{size:"large",class:"width-100",value:a.filter.course,"onUpdate:value":o[1]||(o[1]=i=>a.filter.course=i),"show-search":"",placeholder:e.__("Select a course"),options:a.options,"filter-option":c.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["value","placeholder","options","filter-option","onFocus","onBlur","onChange"])]),t("div",ie,[s(p,{loading:a.loading,type:"submit",theme:"primary"},{default:r(()=>[u(l(e.__("Search")),1)]),_:1},8,["loading"])])],32)])):f("",!0),s(V,null,{head:r(()=>[t("th",ne,l(e.__("Student")),1),t("th",re,l(e.__("Parent Email")),1),t("th",le,l(e.__("Course")),1),t("th",ae,l(e.__("Action")),1)]),body:r(()=>[m.admission_requests.length>0?(d(!0),h(b,{key:0},q(m.admission_requests,i=>(d(),h("tr",{key:i.id,class:"border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("th",de,[t("div",ue,[t("div",ce,l(i.name),1),t("div",he,l(i.email),1)])]),t("td",me,l(i.guardian_email),1),t("td",pe,[(d(!0),h(b,null,q(i.course_names,(w,A)=>(d(),h("div",{key:A,class:"font-bold ml-0.5"},[u(l(w)+" ",1),i.course_names.length!=A+1?(d(),h(b,{key:0},[u(",")],64)):f("",!0)]))),128))]),t("td",_e,[s(g,{href:e.route("student.admission.show",i.id),class:"group relative"},{default:r(()=>[s(j,{class:"w-6 h-6 text-pink-400 hover:text-pink-300"}),s(_,{text:e.__("Details Request")},null,8,["text"])]),_:2},1032,["href"]),s(g,{href:e.route("student.admission.request.accept",i.id),class:"group relative"},{default:r(()=>[s(M,{class:"w-6 h-6 text-blue-500 hover:text-blue-300"}),s(_,{text:e.__("Accept Request")},null,8,["text"])]),_:2},1032,["href"]),t("button",{type:"button",onClick:x(w=>c.destroyAdmission(i.id),["prevent"]),class:"group relative"},[s(N,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),s(_,{text:e.__("Reject Request")},null,8,["text"])],8,fe)])]))),128)):(d(),h("tr",be,[t("td",ge,[s(D,{asShow:"div"})])]))]),_:1})]),s(v,{visible:e.visible,"onUpdate:visible":o[3]||(o[3]=i=>e.visible=i),title:"Admission Details",onOk:c.hide},{footer:r(()=>[s(y,{key:"back",onClick:c.hide},{default:r(()=>[u(l(e.__("Close")),1)]),_:1},8,["onClick"])]),default:r(()=>[s(k,{admission:a.show_admission},null,8,["admission"])]),_:1},8,["visible","onOk"]),s(v,{visible:a.visibleAdmission,"onUpdate:visible":o[4]||(o[4]=i=>a.visibleAdmission=i),title:"Admission Details",onOk:c.hideAdmission},{footer:r(()=>[s(y,{key:"back",onClick:c.hideAdmission},{default:r(()=>[u(l(e.__("Close")),1)]),_:1},8,["onClick"])]),default:r(()=>[s(k,{admission:a.show_admission},null,8,["admission"])]),_:1},8,["visible","onOk"])]),_:1},8,["title"])}const Pe=G(W,[["render",ye]]);export{Pe as default};
