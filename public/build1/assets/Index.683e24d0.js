import{_ as D,r as E}from"./AppLayout.68aece36.js";import{T as P}from"./ToolTip.01b9a5b2.js";import{P as U}from"./Pagination.45fe2d72.js";import{T as Y}from"./TdUserShow.1595bcb3.js";import{_ as G,N as H,o as _,c as z,w as l,a as t,b as o,g as p,t as a,C as J,e as f,i as K,F as Q,r}from"./app.e2158f44.js";import{r as R}from"./TrashIcon.24ca370a.js";import{r as W}from"./PencilSquareIcon.3f56d8d9.js";import{r as X}from"./EyeIcon.c768064f.js";import{r as Z}from"./Square2StackIcon.1eae9d5f.js";import{r as $}from"./MagnifyingGlassIcon.50c8ce78.js";import"./TopBarMenu.2e81788b.js";import"./CheckCircleIcon.7023e821.js";import"./XMarkIcon.e1cec856.js";import"./WarningToast.efaf1557.js";import"./PlusCircleIcon.b7e1c640.js";import"./UserIcon.81d1f1d5.js";import"./Bars3Icon.e96342cc.js";const ee={components:{AppLayout:D,ToolTip:P,TdUserShow:Y,TrashIcon:R,PencilSquareIcon:W,Pagination:U,EyeIcon:X,Square2StackIcon:Z,MagnifyingGlassIcon:$,EnvelopeIcon:E,NothingFound:H},props:{users:Object,filter_data:Object,departments:Object},data(){var e,n,c;return{loading:!1,options:[],options2:[],visible:!1,show_user:"",filter:{keyword:(e=this.filter_data.keyword)!=null?e:null,course:(n=this.filter_data.course)!=null?n:null,department:(c=this.filter_data.department)!=null?c:null}}},created(){this.options2.push({value:"",label:"All"});for(const[e,n]of Object.entries(this.departments))this.options2.push({value:n.slug,label:n.name})},methods:{accountHold(e,n){let c=e.target.checked;this.$inertia.post(this.route("user.account.hold",n),{status:c},{preserveScroll:!0})},destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("users.destroy",e));else return!1},show(e){this.show_user=e,this.visible=!0},hide(e){this.visible=!1},filterData(){this.loading=!0,this.$inertia.get(this.route("teachers.index"),this.filter,{preserveScroll:!0,onSuccess:()=>{},onFinish:e=>{this.loading=!1}})},filterOption(e,n){return n.label.toLowerCase().indexOf(e.toLowerCase())>=0},sendMail(e){this.$inertia.post(this.route("teacher.send.mail"),{user:e})}}},te={class:"mb-4"},oe={class:"md:col-span-3"},se={class:"relative w-full"},re={type:"submit",class:"absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},ne={class:"md:col-span-3"},le={class:"md:col-span-1"},ae={class:"py-4 px-5"},ie={class:"py-4 px-5"},ce={class:"py-4 px-5"},de={class:"py-4 px-5"},ue={width:"10%",class:"py-4 px-5"},pe={scope:"row",class:"flex items-center py-4 px-5 text-gray-900 whitespace-nowrap dark:text-white"},_e={class:"py-4 px-5"},he={class:"py-4 px-5"},me={class:"py-4 px-5"},fe={class:"relative inline-flex items-center cursor-pointer"},be=["onChange","checked"],ge=o("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),ye={class:"py-4 px-5"},ke={class:"flex gap-2"},ve=["onClick"],we={class:"inline-flex dark:text-gray-400 absolute z-10 -top-4 -right-2 justify-center items-center w-6 h-6 text-xs font-bold text-white bg-red-500 rounded-full border-2 border-white dark:border-gray-900"},xe=["onClick","id"],Se={key:1},Ce={colspan:"4",class:"text-center p-4"},Ie={class:"flex justify-center"};function Le(e,n,c,Te,i,d){const g=r("BreadcrumbLink"),y=r("Breadcrumb"),k=r("badge"),b=r("global-button"),v=r("page-header"),w=r("global-input"),x=r("MagnifyingGlassIcon"),S=r("a-select"),C=r("td-user-show"),I=r("EnvelopeIcon"),u=r("tool-tip"),L=r("Square2StackIcon"),h=r("Link"),T=r("eye-icon"),B=r("PencilSquareIcon"),M=r("trash-icon"),A=r("NothingFound"),F=r("global-table"),O=r("pagination"),j=r("a-button"),N=r("show-modal"),V=r("a-modal"),q=r("AppLayout");return _(),z(q,{title:e.__("Teacher List")},{default:l(()=>[t(y,null,{default:l(()=>[t(g,{title:e.__("Teacher List")},null,8,["title"])]),_:1}),o("div",null,[t(v,null,{content:l(()=>[t(b,{url:e.route("teachers.create"),type:"link",theme:"primary"},{default:l(()=>[p(a(e.__("Add Teachers")),1)]),_:1},8,["url"])]),default:l(()=>[p(a(e.__("All Teachers"))+" ",1),t(k,null,{default:l(()=>[p(a(c.users.total),1)]),_:1})]),_:1}),o("div",te,[o("form",{class:"items-center grid grid-cols-1 md:grid-cols-7 md:gap-6 gap-1.5",onSubmit:n[2]||(n[2]=J(s=>d.filterData(),["prevent"]))},[o("div",oe,[o("div",se,[t(w,{type:"search",modelValue:i.filter.keyword,"onUpdate:modelValue":n[0]||(n[0]=s=>i.filter.keyword=s),class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword")},null,8,["modelValue","placeholder"]),o("button",re,[t(x,{class:"w-5 h-5"})])])]),o("div",ne,[t(S,{size:"large",class:"width-100",value:i.filter.department,"onUpdate:value":n[1]||(n[1]=s=>i.filter.department=s),"show-search":"",placeholder:e.__("Select a department"),options:i.options2,"filter-option":d.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["value","placeholder","options","filter-option","onFocus","onBlur","onChange"])]),o("div",le,[t(b,{loading:i.loading,type:"submit",theme:"primary",class:"w-full"},{default:l(()=>[p(a(e.__("Search")),1)]),_:1},8,["loading"])])],32)]),t(F,null,{head:l(()=>[o("th",ae,a(e.__("Name")),1),o("th",ie,a(e.__("Department")),1),o("th",ce,a(e.__("Joined at")),1),o("th",de,a(e.__("Account Hold")),1),o("th",ue,a(e.__("Action")),1)]),body:l(()=>[c.users.data.length>0?(_(!0),f(Q,{key:0},K(c.users.data,s=>(_(),f("tr",{key:s.id,class:"border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[o("td",pe,[t(C,{image:s.profile_photo_url,name:s.name,email:s.email},null,8,["image","name","email"])]),o("td",_e,a(s.department?s.department.name:"-"),1),o("td",he,a(e.formatTime(s.created_at,"MMMM D, YYYY")),1),o("td",me,[o("label",fe,[o("input",{onChange:m=>d.accountHold(m,s.id),checked:s.account_hold,type:"checkbox",class:"sr-only peer"},null,40,be),ge])]),o("td",ye,[o("div",ke,[o("button",{onClick:m=>d.sendMail(s.id),type:"button",class:"group relative"},[t(I,{class:"text-purple-400 hover:text-purple-300"}),t(u,{text:e.__("Send Mail")},null,8,["text"])],8,ve),t(h,{"preserve-scroll":"",href:e.route("teacher.classes",s.id),class:"group relative cursor-pointer"},{default:l(()=>[t(L,{class:"w-6 h-6 text-purple-400 hover:text-purple-300"}),t(u,{text:e.__("Subjects")},null,8,["text"]),o("div",we,a(s.subjects_count),1)]),_:2},1032,["href"]),t(h,{"preserve-scroll":"",href:e.route("teacher.show",s.id),class:"group relative"},{default:l(()=>[t(T,{class:"w-6 h-6 text-pink-400 hover:text-pink-300"}),t(u,{text:e.__("View")},null,8,["text"])]),_:2},1032,["href"]),t(h,{"preserve-scroll":"",href:e.route("teachers.edit",s.id),class:"group relative",id:"edit"+s.id},{default:l(()=>[t(B,{class:"text-blue-400 w-6 h-6 hover:text-blue-300"}),t(u,{text:e.__("Edit")},null,8,["text"])]),_:2},1032,["href","id"]),o("button",{type:"button",onClick:m=>d.destroy(s.id),class:"group relative",id:"delete"+s.id},[t(M,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),t(u,{text:e.__("Delete")},null,8,["text"])],8,xe)])])]))),128)):(_(),f("tr",Se,[o("td",Ce,[t(A,{asShow:"div"})])]))]),_:1}),o("div",Ie,[t(O,{class:"mt-6",links:c.users.links},null,8,["links"])])]),t(V,{visible:i.visible,"onUpdate:visible":n[3]||(n[3]=s=>i.visible=s),title:i.show_user.name,onOk:d.hide},{footer:l(()=>[t(j,{key:"back",onClick:d.hide},{default:l(()=>[p(a(e.__("Close")),1)]),_:1},8,["onClick"])]),default:l(()=>[t(N,{user:i.show_user},null,8,["user"])]),_:1},8,["visible","title","onOk"])]),_:1},8,["title"])}const Je=G(ee,[["render",Le]]);export{Je as default};
