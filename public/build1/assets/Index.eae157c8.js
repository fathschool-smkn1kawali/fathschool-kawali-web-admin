import{_ as Z}from"./AppLayout.68aece36.js";import{T as z}from"./ToolTip.01b9a5b2.js";import{P as H}from"./Pagination.45fe2d72.js";import Y from"./Show.a3d7d406.js";import{o as a,e as u,b as o,_ as J,N as K,u as Q,c,w as s,a as r,i as v,F as w,g as b,t as n,j as S,C as W,r as l,n as q}from"./app.e2158f44.js";import{s as X}from"./multiselect.576f90b9.js";/* empty css                */import{T as $}from"./TdUserShow.1595bcb3.js";import{r as ee}from"./TrashIcon.24ca370a.js";import{d as te}from"./TopBarMenu.2e81788b.js";import{r as re}from"./PencilSquareIcon.3f56d8d9.js";import{r as oe}from"./EyeIcon.c768064f.js";import{r as le}from"./Square2StackIcon.1eae9d5f.js";import{r as se}from"./MagnifyingGlassIcon.50c8ce78.js";import"./WarningToast.efaf1557.js";import"./PlusCircleIcon.b7e1c640.js";import"./UserIcon.81d1f1d5.js";import"./CheckCircleIcon.7023e821.js";import"./Bars3Icon.e96342cc.js";import"./XMarkIcon.e1cec856.js";function ae(t,i){return a(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}const ne={components:{AppLayout:Z,ToolTip:z,TrashIcon:ee,UsersIcon:te,PencilSquareIcon:re,Pagination:H,UserGroupIcon:ae,TdUserShow:$,EyeIcon:oe,Square2StackIcon:le,MagnifyingGlassIcon:se,ShowModal:Y,Multiselect:X,NothingFound:K},props:{users:Object,admins:Number,parents:Number,students:Number,teachers:Number,others:Number,query:Object},data(){var t,i;return{visible:!1,show_user:"",filter:Q({keyword:(t=this.query.keyword)!=null?t:"",query:(i=this.query.query)!=null?i:"all"}),stats:[{data:this.admins,title:"Total Admins",query:"admin"},{data:this.parents,title:"Total Parents",query:"parent"},{data:this.students,title:"Total Students",query:"student"},{data:this.teachers,title:"Total Teachers",query:"teacher"},{data:this.others,title:"Others",query:"other"}]}},methods:{destroy(t){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("users.destroy",t));else return!1},show(t){this.show_user=t,this.visible=!0},hide(t){this.visible=!1},filterData(){this.filter.get(this.route("users.index"),{preserveScroll:!0})},updateStatus(t,i){let _=t.target.checked;this.$inertia.post(this.route("user.status.update",i),{status:_},{preserveScroll:!0})}}},ie={class:"flex gap-6 flex-wrap lg:flex-nowrap w-full mb-3"},de={class:"p-3 text-blue-600 bg-blue-100 dark:bg-blue-500/20 rounded-full"},ce={class:"text-2xl mb-0 font-medium text-gray-900 dark:text-gray-400"},ue={class:"text-sm mb-0 text-gray-400"},pe={class:"mb-3"},he={class:"flex col-span-4"},me={class:"relative w-full"},_e={type:"submit",class:"absolute top-6 rtl:left-0 rtl:right-auto right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rtl:rounded-r-0 rtl:rounded-l-lg rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},fe={class:"col-span-4 mt-0.5"},be={class:"col-span-1 md:mt-5"},ge={class:"py-4 px-5"},ye={class:"py-4 px-5"},ke={class:"py-4 px-5"},ve={width:"10%",class:"py-4 px-5"},we={scope:"row",class:"flex items-center py-4 px-5 text-gray-900 whitespace-nowrap dark:text-white"},xe={class:"py-4 px-5"},Se={class:"text-xs mt-1"},qe={class:"py-4 px-5"},Ae={key:0,class:"text-red-500 block"},Ce={key:1,class:"relative inline-flex items-center cursor-pointer"},Te=["disabled","onChange","checked"],Ie={class:"py-4 px-5"},Ne={class:"flex gap-2"},Ue=["onClick","id"],Ve={class:"inline-flex dark:text-gray-400 absolute z-10 -top-4 -right-2 justify-center items-center w-6 h-6 text-xs font-bold text-white bg-red-500 rounded-full border-2 border-white dark:border-gray-900"},je=["onClick","id"],Be={class:"flex justify-center"};function Me(t,i,_,Le,d,f){const A=l("BreadcrumbLink"),C=l("Breadcrumb"),T=l("UserGroupIcon"),p=l("Link"),I=l("badge"),g=l("global-button"),N=l("page-header"),x=l("global-label"),U=l("global-input"),V=l("MagnifyingGlassIcon"),j=l("Multiselect"),B=l("td-user-show"),y=l("eye-icon"),h=l("tool-tip"),k=l("PencilSquareIcon"),M=l("Square2StackIcon"),L=l("trash-icon"),P=l("NothingFound"),E=l("global-table"),F=l("pagination"),G=l("a-button"),O=l("show-modal"),D=l("a-modal"),R=l("AppLayout");return a(),c(R,{title:t.__("Users")},{default:s(()=>[r(C,null,{default:s(()=>[r(A,{title:t.__("Users")},null,8,["title"])]),_:1}),o("div",null,[o("div",ie,[(a(!0),u(w,null,v(d.stats,(e,m)=>(a(),c(p,{key:m,"preserve-scroll":"",href:t.route("users.index",{query:e.query}),class:"hover:bg-gray-50 shadow-sm flex items-center w-64 flex-grow gap-4 p-6 bg-white border border-gray-100 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-800 rounded-lg",id:"test_"+e.query},{default:s(()=>[o("span",de,[r(T,{class:"w-6 h-6"})]),o("div",null,[o("h3",ce,n(e.data),1),o("p",ue,n(e.title),1)])]),_:2},1032,["href","id"]))),128))]),r(N,null,{content:s(()=>[t.term?(a(),c(p,{key:0,"preserve-scroll":"",href:t.route("users.index")},{default:s(()=>[r(g,{loading:!1,type:"button",class:"text-white bg-pink-500 dark:bg-pink-500 hover:bg-pink-400 active:bg-pink-600 dark:active:bg-pink-600 focus:border-pink-600 dark:focus:border-pink-600 focus:ring focus:ring-pink-300 dark:focus:ring-pink-300"},{default:s(()=>[b(n(t.__("All User")),1)]),_:1})]),_:1},8,["href"])):S("",!0),r(g,{"preserve-scroll":"",loading:!1,type:"link",cssClass:"ml-2",url:t.route("users.create"),theme:"primary"},{default:s(()=>[b(n(t.__("Create User")),1)]),_:1},8,["url"])]),default:s(()=>[b(n(t.__("All User"))+" ",1),r(I,null,{default:s(()=>[b(n(_.users.total),1)]),_:1})]),_:1}),o("div",pe,[o("form",{class:"items-center grid grid-cols-1 md:grid-cols-9 gap-6",onSubmit:i[2]||(i[2]=W(e=>f.filterData(),["prevent"]))},[o("div",he,[o("div",me,[r(x,{for:"name",value:"Search Here",required:!1}),r(U,{type:"search",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Name, Email or Role"),modelValue:d.filter.keyword,"onUpdate:modelValue":i[0]||(i[0]=e=>d.filter.keyword=e)},null,8,["placeholder","modelValue"]),o("button",_e,[r(V,{class:"w-5 h-5"})])])]),o("div",fe,[r(x,{for:"name",value:"Select Role",required:!1}),r(j,{"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,modelValue:d.filter.query,"onUpdate:modelValue":i[1]||(i[1]=e=>d.filter.query=e),placeholder:t.__("Select a role"),options:[{label:"All",value:"all"},{label:"Admins",value:"Admin"},{label:"Parents",value:"Parent"},{label:"Admission",value:"Student"},{label:"Teachers",value:"Teacher"},{label:"Accountant",value:"Other"}],autocomplete:"off"},null,8,["modelValue","placeholder"])]),o("div",be,[r(g,{loading:d.filter.processing,type:"submit",theme:"primary"},{default:s(()=>[b(n(t.__("Search")),1)]),_:1},8,["loading"])])],32)]),r(E,null,{head:s(()=>[o("th",ge,n(t.__("Name")),1),o("th",ye,n(t.__("Role")),1),o("th",ke,n(t.__("Active/Ban")),1),o("th",ve,n(t.__("Action")),1)]),body:s(()=>[_.users.data.length>0?(a(!0),u(w,{key:0},v(_.users.data,e=>(a(),u("tr",{key:e.id,class:"border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[o("td",we,[r(B,{image:e.profile_photo_url,name:e.name,email:e.email},null,8,["image","name","email"])]),o("td",xe,[o("div",null,[(a(!0),u(w,null,v(e.roles,m=>(a(),u("span",{key:m.id,class:"bg-blue-100 dark:bg-gray-700 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded dark:text-gray-400"},n(m.name),1))),128))]),o("div",Se,n(e.join_date),1)]),o("td",qe,[e.role=="Admin"&&e.id==t.$page.props.auth.id?(a(),u("small",Ae,n(t.__("You cant ban yourself")),1)):(a(),u("label",Ce,[o("input",{disabled:e.role=="Admin"&&e.id==t.$page.props.auth.id,onChange:m=>f.updateStatus(m,e.id),checked:e.status,type:"checkbox",class:q(["sr-only peer",e.role=="Admin"&&e.id==t.$page.props.auth.id?"cursor-not-allowed":""])},null,42,Te),o("div",{class:q([e.role=="Admin"&&e.id==t.$page.props.auth.id?"opacity-50":"","w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"])},null,2)]))]),o("td",Ie,[o("div",Ne,[e.role=="Student"?(a(),c(p,{key:0,"preserve-scroll":"",href:t.route("student.show",e.username),class:"group relative",id:"show"+e.id},{default:s(()=>[r(y,{class:"w-6 h-6 text-pink-400 hover:text-pink-300"}),r(h,{text:t.__("View")},null,8,["text"])]),_:2},1032,["href","id"])):e.role=="Teacher"?(a(),c(p,{key:1,"preserve-scroll":"",href:t.route("teacher.show",e.id),class:"group relative",id:"show"+e.id},{default:s(()=>[r(y,{class:"w-6 h-6 text-pink-400 hover:text-pink-300"}),r(h,{text:t.__("View")},null,8,["text"])]),_:2},1032,["href","id"])):(a(),u("button",{key:2,type:"button",onClick:m=>f.show(e),class:"group relative",id:"show"+e.id},[r(y,{class:"w-6 h-6 text-pink-400 hover:text-pink-300"}),r(h,{text:t.__("View")},null,8,["text"])],8,Ue)),e.role=="Student"?(a(),c(p,{key:3,"preserve-scroll":"",href:t.route("student.admission.edit",e.id),class:"group relative",id:"edit"+e.id},{default:s(()=>[r(k,{class:"text-blue-400 w-6 h-6 hover:text-blue-300"}),r(h,{text:t.__("Edit")},null,8,["text"])]),_:2},1032,["href","id"])):e.role=="Teacher"?(a(),c(p,{key:4,"preserve-scroll":"",href:t.route("teachers.edit",e.id),class:"group relative",id:"edit"+e.id},{default:s(()=>[r(k,{class:"text-blue-400 w-6 h-6 hover:text-blue-300"}),r(h,{text:t.__("Edit")},null,8,["text"])]),_:2},1032,["href","id"])):(a(),c(p,{key:5,"preserve-scroll":"",href:t.route("users.edit",e.id),class:"group relative",id:"edit"+e.id},{default:s(()=>[r(k,{class:"text-blue-400 w-6 h-6 hover:text-blue-300"}),r(h,{text:t.__("Edit")},null,8,["text"])]),_:2},1032,["href","id"])),e.role=="Teacher"?(a(),c(p,{key:6,"preserve-scroll":"",href:t.route("teacher.classes",e.id),class:"group relative cursor-pointer",id:"teacherSubject"+e.id},{default:s(()=>[r(M,{class:"w-6 h-6 text-purple-400 hover:text-purple-300"}),r(h,{text:t.__("Subjects")},null,8,["text"]),o("div",Ve,n(e.subjects_count),1)]),_:2},1032,["href","id"])):S("",!0),o("button",{type:"button",onClick:m=>f.destroy(e.id),class:"group relative",id:"delete"+e.id},[r(L,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),r(h,{text:t.__("Delete")},null,8,["text"])],8,je)])])]))),128)):(a(),c(P,{key:1,asShow:"tr"}))]),_:1}),o("div",Be,[r(F,{class:"mt-6 mb-6",links:_.users.links},null,8,["links"])])]),r(D,{visible:d.visible,"onUpdate:visible":i[3]||(i[3]=e=>d.visible=e),title:d.show_user.name,onOk:f.hide},{footer:s(()=>[r(G,{key:"back",onClick:f.hide},{default:s(()=>[b(n(t.__("Close")),1)]),_:1},8,["onClick"])]),default:s(()=>[r(O,{user:d.show_user},null,8,["user"])]),_:1},8,["visible","title","onOk"])]),_:1},8,["title"])}const ot=J(ne,[["render",Me]]);export{ot as default};
