import{_ as Y}from"./AppLayout.f7869522.js";import{T as z}from"./ToolTip.e1c056c0.js";import{P as I}from"./Pagination.141e6051.js";import{_ as Z,N as K,u as N,I as U,o as u,c as w,w as d,a as l,b as o,g,t as n,C as D,e as _,F,i as T,n as h,s as k,V as C,j as R,r as i}from"./app.eb4bca63.js";import W from"./SingleOnlineClass.b422877d.js";import{s as G}from"./multiselect.bd328a4e.js";/* empty css                */import{r as J}from"./PencilSquareIcon.8a68b151.js";import"./TopBarMenu.57ba7e85.js";import"./CheckCircleIcon.c15b336b.js";import"./shepherd.esm.28e46ee4.js";import"./XMarkIcon.c835eea2.js";import"./WarningToast.ca887990.js";import"./NavLink.88c501bd.js";import"./PlusCircleIcon.b3c660e0.js";import"./UserIcon.11494925.js";import"./Bars3Icon.9d3eeab9.js";import"./CheckBadgeIcon.d1329a83.js";import"./TrashIcon.e473cb8e.js";import"./HashtagIcon.30abc537.js";import"./EyeIcon.9c22218b.js";import"./LinkIcon.e45a95a3.js";const Q={components:{AppLayout:Y,ToolTip:z,PencilSquareIcon:J,Pagination:I,Multiselect:G,SingleOnlineClass:W,NothingFound:K},props:{online_classes:Object,filter_data:Object,courses:Object,subjects:Object},data(){var e,r,a,c,s;return{createNewClass:!1,update:!1,start_date_value:null,form:N({id:"",topic:"",start_date:"",password:"",description:"",_method:this.update?"PUT":"POST",course:null,subject:null,status:"waiting"}),filter:N({keyword:(e=this.filter_data.keyword)!=null?e:"",status:(r=this.filter_data.status)!=null?r:"",course:(a=this.filter_data.course)!=null?a:"",subject:(c=this.filter_data.subject)!=null?c:""}),tab:(s=this.filter_data.status)!=null?s:"all"}},methods:{setTabValue(e){var c,s;let r=(c=e.filter_column_data)!=null?c:"",a=(s=e.value)!=null?s:"";this.filter[r]=a},submit(){this.start_date_value?this.form.start_date=U(this.start_date_value).format("YYYY-MM-DDTHH:mm:ssZZ"):this.form.start_date="",this.update?this.form.post(this.route("online.class.update",this.form.id),{preserveScroll:!0,onSuccess:e=>{this.form.reset("id","topic","start_date","password","description","_method","course","subject"),this.start_date_value=null}}):this.form.post(this.route("online.class.store"),{preserveScroll:!0,onSuccess:e=>{this.form.reset("id","topic","start_date","password","description","_method","course","subject"),this.start_date_value=null}})},edit(e){this.form.id=e.id,this.form.topic=e.topic,this.form.start_date=e.start_time,this.form.password=e.password,this.form.description=e.description,this.form._method="PUT",this.form.course=e.course_id,this.form.subject=e.subject_id,this.form.status=e.status,this.start_date_value=null,this.start_date_value=U(e.start_time),this.update=!0,this.createNewClass=!0},filterData(){this.filter.get(this.route("online.class.index"))}}},X={class:"pb-12"},$={class:"bg-blue-500 px-1 text-white text-xs"},ee={class:"mb-3 ml-0.5"},te={class:""},re={class:"grid xl:grid-cols-3 gap-6 pt-6"},se={class:"grid 2xl:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-6"},oe={class:"flex justify-center"},le={key:2,class:"bg-white dark:bg-gray-800 p-3 rounded-md"},ae={class:"text-lg dark:text-gray-400 font-bold px-4 mb-3 mt-3"},ie={class:"mb-3"},ne={class:"mb-3"},de={class:"mb-3"},ue={class:"mb-3"},pe={class:"mb-3"},ce={class:"mb-3 w-full"},me={class:"flex justify-between items-center gap-2 w-full"},fe={class:"w-full flex items-center pl-4 border border-gray-200 rounded dark:border-gray-700"},ge={for:"status_waiting",class:"w-full py-2 ml-2 mr-4 text-sm font-medium text-gray-900 dark:text-gray-300"},_e={class:"w-full flex items-center pl-4 border border-gray-200 rounded dark:border-gray-700"},be={for:"status_upcoming",class:"w-full py-2 ml-2 mr-4 text-sm font-medium text-gray-900 dark:text-gray-300"},he={class:"w-full flex items-center pl-4 border border-gray-200 rounded dark:border-gray-700"},ye={for:"status_completed",class:"w-full py-2 ml-2 mr-4 text-sm font-medium text-gray-900 dark:text-gray-300"},ve={class:"flex gap-4 mt-8"};function we(e,r,a,c,s,f){const B=i("BreadcrumbLink"),O=i("Breadcrumb"),b=i("global-button"),L=i("page-header"),y=i("global-input"),j=i("Multiselect"),q=i("tab-filter"),x=i("single-online-class"),M=i("pagination"),P=i("NothingFound"),p=i("global-label"),m=i("input-error"),H=i("a-date-picker"),V=i("a-select"),A=i("global-textarea"),E=i("AppLayout");return u(),w(E,{title:e.__("Online Class List")},{default:d(()=>[l(O,null,{default:d(()=>[l(B,{title:e.__("Online Class-List")},null,8,["title"])]),_:1}),o("div",X,[l(L,null,{content:d(()=>[l(b,{loading:e.loading,onClick:r[0]||(r[0]=t=>s.createNewClass=!s.createNewClass),type:"button",theme:"primary"},{default:d(()=>[g(n(e.__("Create New Class")),1)]),_:1},8,["loading"])]),default:d(()=>[g(n(e.__("Online Class"))+" ",1),o("span",$,n(a.online_classes.total),1)]),_:1}),o("div",ee,[o("form",{class:"grid grid-cols-1 xl:grid-cols-4 gap-6 items-left",onSubmit:r[4]||(r[4]=D(t=>f.filterData(),["prevent"]))},[o("div",null,[l(y,{id:"search",modelValue:s.filter.keyword,"onUpdate:modelValue":r[1]||(r[1]=t=>s.filter.keyword=t),type:"search",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword"),error:e.$page.props.errors.keyword},null,8,["modelValue","placeholder","error"])]),o("div",null,[l(j,{id:"course","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:s.filter.course,"onUpdate:modelValue":r[2]||(r[2]=t=>s.filter.course=t),"create-option":!1,placeholder:e.__("Select Course"),options:a.courses&&a.courses.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),o("div",null,[l(j,{id:"subject","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:s.filter.subject,"onUpdate:modelValue":r[3]||(r[3]=t=>s.filter.subject=t),"create-option":!1,placeholder:e.__("Select Subject"),options:a.subjects&&a.subjects.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),o("div",te,[l(q,{onSetTabData:f.setTabValue,filterData:a.filter_data?a.filter_data.status:"",filter_column:"status",tab_data:[{title:"All",id:"all",value:"all"},{title:"Upcoming",id:"upcoming",value:"upcoming"},{title:"Completed",id:"completed",value:"completed"}]},{default:d(()=>[l(b,{loading:s.form.processing,type:"submit",theme:"primary",class:"whitespace-nowrap"},{default:d(()=>[g(n(e.__("Search")),1)]),_:1},8,["loading"])]),_:1},8,["onSetTabData","filterData"])])],32)]),o("div",re,[a.online_classes.data.length!=0?(u(),_("div",{key:0,class:h(["xl:col-span-2",s.createNewClass?"xl:col-span-2":"xl:col-span-3"])},[(u(!0),_(F,null,T(a.online_classes.data,(t,v)=>(u(),_("div",{class:"",key:v},[o("div",{class:h(["font-bold text-xl pb-4 dark:text-gray-400",v=="Completed Class"?"mt-4":""])},n(v),3),o("div",se,[(u(!0),_(F,null,T(t,S=>(u(),w(x,{editFunction:f.edit,item:S,key:S.id},null,8,["editFunction","item"]))),128))])]))),128)),o("div",oe,[l(M,{class:"mt-6",links:a.online_classes.links},null,8,["links"])])],2)):(u(),w(P,{key:1,asShow:"div",cssClass:"text-center col-span-3"})),s.createNewClass?(u(),_("div",le,[o("div",ae,n(e.__("Create New Class")),1),o("form",{onSubmit:r[16]||(r[16]=D(t=>f.submit(),["prevent"])),class:"w-full px-4 dark:border-gray-700 rounded-lg"},[o("div",ie,[l(p,{for:"topic",value:"Topic",required:!0}),l(y,{type:"text",modelValue:s.form.topic,"onUpdate:modelValue":r[5]||(r[5]=t=>s.form.topic=t),id:"topic",name:"topic",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Topic"),error:e.$page.props.errors.topic},null,8,["modelValue","placeholder","error"]),l(m,{error:e.$page.props.errors.topic},null,8,["error"])]),o("div",ne,[l(p,{for:"start_date",value:"Start Date",required:!0}),l(H,{"show-time":{format:"HH:mm"},value:s.start_date_value,"onUpdate:value":r[6]||(r[6]=t=>s.start_date_value=t),id:"start_date",class:"w-full custom-input dark:bg-gray-500 dark:border-gray-700 dark:text-gray-400",format:e.getDateTimeFormat()+" HH:mm:ss",placeholder:e.__("Select Start Date")},null,8,["value","format","placeholder"]),l(m,{error:e.$page.props.errors.start_date},null,8,["error"])]),o("div",de,[l(p,{for:"title",value:"Select Course",required:!0}),l(V,{class:h([e.$page.props.errors.subject?"border-custom ":"","width-100"]),size:"large",value:s.form.course,"onUpdate:value":r[7]||(r[7]=t=>s.form.course=t),"show-search":"",placeholder:e.__("Select a course"),options:a.courses.map(t=>({value:t.id,label:t.name})),"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),l(m,{error:e.$page.props.errors.course},null,8,["error"])]),o("div",ue,[l(p,{for:"title",value:"Select Subject",required:!0}),l(V,{class:h([e.$page.props.errors.subject?"border-custom ":"","width-100"]),size:"large",value:s.form.subject,"onUpdate:value":r[8]||(r[8]=t=>s.form.subject=t),"show-search":"",placeholder:e.__("Select a subject"),options:a.subjects.map(t=>({value:t.id,label:t.name})),"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),l(m,{error:e.$page.props.errors.subject},null,8,["error"])]),o("div",pe,[l(p,{for:"password",value:"Class Password",required:!0}),l(y,{type:"text",modelValue:s.form.password,"onUpdate:modelValue":r[9]||(r[9]=t=>s.form.password=t),id:"password",name:"password",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter password"),error:e.$page.props.errors.password},null,8,["modelValue","placeholder","error"]),l(m,{error:e.$page.props.errors.password},null,8,["error"])]),o("div",ce,[l(p,{for:"status_waiting",value:"Status",required:!0}),o("div",me,[o("div",fe,[k(o("input",{"onUpdate:modelValue":r[10]||(r[10]=t=>s.form.status=t),id:"status_waiting",type:"radio",value:"waiting",name:"status",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[C,s.form.status]]),o("label",ge,n(e.__("Waiting")),1)]),o("div",_e,[k(o("input",{"onUpdate:modelValue":r[11]||(r[11]=t=>s.form.status=t),id:"status_upcoming",type:"radio",value:"upcoming",name:"status",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[C,s.form.status]]),o("label",be,n(e.__("Upcoming")),1)]),o("div",he,[k(o("input",{"onUpdate:modelValue":r[12]||(r[12]=t=>s.form.status=t),id:"status_completed",type:"radio",value:"completed",name:"status",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[C,s.form.status]]),o("label",ye,n(e.__("Completed")),1)])])]),o("div",null,[l(p,{for:"description",value:e.__("Class Description"),required:!1},null,8,["value"]),l(A,{modelValue:s.form.description,"onUpdate:modelValue":r[13]||(r[13]=t=>s.form.description=t),id:"description",name:"description",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),l(m,{error:e.$page.props.errors.description},null,8,["error"])]),o("div",ve,[l(b,{cssClass:"",loading:s.form.processing,type:"button",onClick:r[14]||(r[14]=t=>f.submit()),theme:"primary"},{default:d(()=>[g(n(e.__("Save")),1)]),_:1},8,["loading"]),l(b,{loading:!1,type:"button",onClick:r[15]||(r[15]=t=>s.createNewClass=!1),theme:"outline-danger"},{default:d(()=>[g(n(e.__("Cancel")),1)]),_:1})])],32)])):R("",!0)])])]),_:1},8,["title"])}const Ie=Z(Q,[["render",we],["__scopeId","data-v-7341fe7c"]]);export{Ie as default};
