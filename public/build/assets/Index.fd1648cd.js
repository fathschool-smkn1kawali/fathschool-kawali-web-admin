import{_ as B}from"./AppLayout.770f3a27.js";import{P as N}from"./Pagination.c0daf4d5.js";import{T as V}from"./ToolTip.8e71f02f.js";import{_ as v,N as j,r,o as d,e as f,a as t,w as _,b as o,t as c,F as O,i as P,c as y,n as C,g as $,C as S,j as w}from"./app.0a62d3b4.js";import{r as x}from"./TrashIcon.83bfcc12.js";import{r as D}from"./PencilSquareIcon.d41cd564.js";import"./TopBarMenu.e7daab03.js";import"./CheckCircleIcon.1814ecfe.js";import"./shepherd.esm.dbe9c7a3.js";import"./XMarkIcon.7c18cf19.js";import"./WarningToast.122671e2.js";import"./NavLink.c2694d47.js";import"./PlusCircleIcon.48513466.js";import"./UserIcon.fbaec5d8.js";import"./Bars3Icon.f5cb8044.js";const L={props:{departments:Object},components:{ToolTip:V,TrashIcon:x,PencilSquareIcon:D,NothingFound:j},methods:{destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("departments.destroy",e));else return!1},edit(e){this.$emit("edit",e)}}},U={class:"col-span-2 bg-white dark:bg-gray-800 dark:text-gray-600 rounded-lg"},q={class:"py-5 px-5"},T={width:"10%",class:"py-5 px-3"},A={class:"py-5 px-5"},E={class:"py-5 px-3 flex gap-3"},I=["onClick","id"],z=["onClick","id"];function M(e,s,l,k,n,i){const p=r("PencilSquareIcon"),g=r("tool-tip"),u=r("trash-icon"),b=r("NothingFound"),h=r("global-table");return d(),f("div",U,[t(h,null,{head:_(()=>[o("th",q,c(e.__("Name")),1),o("th",T,c(e.__("Action")),1)]),body:_(()=>[l.departments.data.length>0?(d(!0),f(O,{key:0},P(l.departments.data,a=>(d(),f("tr",{key:a.id,class:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[o("td",A,c(a.name),1),o("td",E,[o("button",{type:"button",onClick:m=>i.edit(a),class:"group relative",id:"testEditDepartment"+a.id},[t(p,{class:"w-6 h-6 text-blue-400 hover:text-blue-300"}),t(g,{text:"Edit"})],8,I),o("button",{type:"button",onClick:m=>i.destroy(a.id),class:"group relative",id:"testDeleteDepartment"+a.id},[t(u,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),t(g,{text:e.__("Delete")},null,8,["text"])],8,z)])]))),128)):(d(),y(b,{key:1,asShow:"tr"}))]),_:1})])}const G=v(L,[["render",M]]),H={props:{study_programs:{type:Object,default:()=>({})}},data(){return{loading:!1,options:[],form:{name:"",study_program_id:null}}},created(){var e;for(const[s,l]of Object.entries(this.study_programs))this.options.push({value:l.id,label:l.name});this.form.study_program_id=(e=this.options[0])==null?void 0:e.value},methods:{submit(){this.loading=!0,this.$inertia.post(this.route("departments.store"),this.form,{onSuccess:()=>{this.form.name="",this.form.study_program_id=null},onFinish:e=>{this.loading=!1}})}}},J={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700"},K={class:"mt-3"},Q=o("br",null,null,-1);function R(e,s,l,k,n,i){const p=r("global-label"),g=r("global-input"),u=r("input-error"),b=r("a-select"),h=r("global-button");return d(),f("form",{onSubmit:s[2]||(s[2]=S((...a)=>i.submit&&i.submit(...a),["prevent"]))},[o("div",J,[o("div",null,[t(p,{for:"name",value:"Name",required:!1}),t(g,{type:"text",id:"name",modelValue:n.form.name,"onUpdate:modelValue":s[0]||(s[0]=a=>n.form.name=a),name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),t(u,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",K,[t(p,{for:"study_program_id",value:"Study Program",required:!1}),t(b,{class:C([e.$page.props.errors.study_program_id?"border-custom ":"","width-100"]),size:"large",modelValue:n.form.study_program_id,"onUpdate:modelValue":s[1]||(s[1]=a=>n.form.study_program_id=a),"show-search":"",placeholder:e.__("Select Study Program"),options:n.options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","modelValue","placeholder","options","filter-option","onFocus","onBlur","onChange"]),t(u,{error:e.$page.props.errors.study_program_id},null,8,["error"])])]),t(h,{loading:n.loading,type:"submit",class:"text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 rtl:ml-0 rtl:mr-5 ml-5 mb-6 dark:focus:ring-blue-300"},{default:_(()=>[$(c(e.__("Save")),1)]),_:1},8,["loading"]),Q],32)}const W=v(H,[["render",R]]),X={props:{department:Object,study_programs:Object},data(){return{loading:!1,options:[],form:{name:this.department.name,study_program_id:this.department.study_program_id,_method:"PUT"}}},created(){for(const[e,s]of Object.entries(this.study_programs))this.options.push({value:s.id,label:s.name})},watch:{department:{deep:!0,handler(e,s){this.form.name=e.name}}},methods:{submit(){this.loading=!0,this.$inertia.post(this.route("departments.update",this.department.id),this.form,{onSuccess:()=>{this.$inertia.get(this.route("departments.index"))},onFinish:e=>{this.loading=!1}})}}},Y={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700"},Z={class:"mt-3"},ee={class:"flex gap-2 ml-5"},te=o("br",null,null,-1);function oe(e,s,l,k,n,i){const p=r("global-label"),g=r("global-input"),u=r("input-error"),b=r("a-select"),h=r("global-button"),a=r("Link");return d(),f("form",{onSubmit:s[2]||(s[2]=S((...m)=>i.submit&&i.submit(...m),["prevent"]))},[o("div",Y,[o("div",null,[t(p,{for:"name",value:"Name",required:!1}),t(g,{type:"text",id:"name",modelValue:n.form.name,"onUpdate:modelValue":s[0]||(s[0]=m=>n.form.name=m),name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),t(u,{error:e.$page.props.errors.name},null,8,["error"])]),o("div",Z,[t(p,{for:"study_program_id",value:"Select Study Program ",required:!1}),t(b,{class:C([e.$page.props.errors.study_program_id?"border-custom ":"","width-100"]),size:"large",value:n.form.study_program_id,"onUpdate:value":s[1]||(s[1]=m=>n.form.study_program_id=m),"show-search":"",placeholder:e.__("Select Study Program"),options:n.options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),t(u,{error:e.$page.props.errors.class},null,8,["error"])])]),o("div",ee,[t(h,{loading:n.loading,type:"submit",theme:"primary",class:"mr-2"},{default:_(()=>[$(c(e.__("Update")),1)]),_:1},8,["loading"]),t(a,{"preserve-scroll":"",href:e.route("departments.index")},{default:_(()=>[t(h,{loading:!1,type:"button",theme:"outline-danger"},{default:_(()=>[$(c(e.__("Cancel")),1)]),_:1})]),_:1},8,["href"])]),te],32)}const re=v(X,[["render",oe]]),se={components:{AppLayout:B,Pagination:N,TableContent:G,CreateForm:W,UpdateForm:re},props:{departments:Object,study_programs:Object},data(){return{update:!1,department:""}},methods:{edit(e){this.update=!0,this.department=e}}},ne={class:"pb-12"},ae={class:"dark:text-gray-400 font-semibold"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mx-auto"},de={class:"flex justify-center"},ie={class:"w-full bg-white rounded-lg dark:bg-gray-800 text-sm rtl:text-right text-left text-gray-500 dark:text-gray-400"},pe={class:"p-4 text-gray-700 font-bold border-b-2 dark:border-gray-600 rounded-t-lg dark:bg-gray-800 dark:text-gray-400"},ue={key:0},me={class:"flex justify-between"},_e={key:1};function ce(e,s,l,k,n,i){const p=r("BreadcrumbLink"),g=r("Breadcrumb"),u=r("page-header"),b=r("table-content"),h=r("pagination"),a=r("create-form"),m=r("update-form"),F=r("AppLayout");return d(),y(F,{title:e.__("Departments")},{default:_(()=>[t(g,null,{default:_(()=>[t(p,{title:e.__("Departments")},null,8,["title"])]),_:1}),o("div",ne,[t(u,null,{default:_(()=>[o("div",ae,c(e.__("Departments")),1)]),_:1}),o("div",le,[o("div",null,[t(b,{onEdit:i.edit,departments:l.departments},null,8,["onEdit","departments"]),o("div",de,[t(h,{class:"mt-6",links:l.departments.links},null,8,["links"])])]),o("div",null,[o("div",ie,[o("div",pe,[n.update?(d(),f("div",ue,[o("div",me,[o("div",null,c(e.__("Update")),1)])])):(d(),f("div",_e,c(e.__("Create New")),1))]),n.update?w("",!0):(d(),y(a,{key:0,study_programs:l.study_programs},null,8,["study_programs"])),n.update?(d(),y(m,{key:1,department:n.department,study_programs:l.study_programs},null,8,["department","study_programs"])):w("",!0)])])])])]),_:1},8,["title"])}const je=v(se,[["render",ce]]);export{je as default};
