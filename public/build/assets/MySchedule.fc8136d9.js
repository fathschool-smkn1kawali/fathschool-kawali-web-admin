import{_ as x}from"./AppLayout.8b90d46b.js";import{P as k}from"./Pagination.7c6055c2.js";import{T as m}from"./ToolTip.90a7442a.js";import{_ as V,u as w,o as p,c as C,w as c,a as s,b as i,g as _,t as f,n as M,C as B,e as T,j as q,r}from"./app.9bacd1a0.js";import{F as A,m as F,a as L}from"./main.b444e6f8.js";import{m as D}from"./main.c8c0d7a5.js";import{m as G}from"./main.b9621c54.js";import{s as N}from"./multiselect.5e8a11c6.js";/* empty css                */import"./TopBarMenu.978fcd11.js";import"./CheckCircleIcon.14efd96d.js";import"./shepherd.esm.8b0b6bfa.js";import"./XMarkIcon.db621c27.js";import"./WarningToast.5000d5fb.js";import"./NavLink.7e4b7702.js";import"./PlusCircleIcon.7b47160e.js";import"./UserIcon.2090e4c3.js";import"./Bars3Icon.559bf817.js";const O={components:{AppLayout:x,ToolTip:m,Pagination:k,ToolTip:m,FullCalendar:A,Multiselect:N},props:{routines:Object,schedules:Array,classes:Array,teachers:Array,query:Object},data(){var e,l,o;return{filter:w({course_id:(e=this.query.course_id)!=null?e:"",subject_id:(l=this.query.subject_id)!=null?l:"",teacher_id:(o=this.query.teacher_id)!=null?o:""}),calendarOptions:{locale:this.$page.props.locale,plugins:[F,L,D,G],initialView:"timeGridWeek",selectable:!1,editable:!1,height:800,buttonText:{prev:this.__("prev"),next:this.__("next"),today:this.__("today"),month:this.__("month"),week:this.__("week"),day:this.__("day"),list:this.__("list")},headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:this.schedules,eventContent:function(u){return{html:u.event.title.replace(/<br>/g,"<br>")}}},subjects:[],filter_subjects:[]}},watch:{"form.class":{deep:!0,handler(e){this.loadSubjects("modal")}},"filter.course_id":{deep:!0,handler(e){this.loadSubjects("filter")}}},methods:{async loadSubjects(e){let l=e=="modal"?this.form.class:this.filter.course_id,o=await axios.get(route("fetch.subjects",l));e=="modal"?this.subjects=o.data:this.filter_subjects=o.data},filterData(){this.filter.get(this.route("my.schedule"),{preserveScroll:!0})}},mounted(){this.loadSubjects("filter")}},U={class:"mb-3"},Y={class:"mt-0.5 xl:col-span-1 md:col-span-2"},P={class:"mt-0.5 xl:col-span-1 md:col-span-2"},W={key:0,class:"mt-0.5 xl:col-span-1 md:col-span-2"},z={class:"col-span-1 md:mt-5 xl:col-span-1 md:col-span-2 xl:flex xl:justify-end"},E={class:"col-span-2 bg-white overflow-x-auto rounded-lg dark:bg-gray-800 p-6"};function H(e,l,o,u,a,h){const b=r("BreadcrumbLink"),g=r("Breadcrumb"),y=r("page-header"),n=r("global-label"),d=r("Multiselect"),v=r("global-button"),j=r("FullCalendar"),S=r("AppLayout");return p(),C(S,{title:e.__("MY Schedule")},{default:c(()=>[s(g,null,{default:c(()=>[s(b,{title:e.__("MY Schedule")},null,8,["title"])]),_:1}),i("div",null,[s(y,{class:"flex items-center justify-between"},{default:c(()=>[_(f(e.__("MY Schedule")),1)]),_:1}),i("div",U,[i("form",{class:M(["items-center grid grid-cols-1 gap-6",o.teachers?"md:grid-cols-4":"md:grid-cols-3"]),onSubmit:l[3]||(l[3]=B(t=>h.filterData(),["prevent"]))},[i("div",Y,[s(n,{for:"name",value:"Select Course",required:!1}),s(d,{id:"class",class:"dark:text-gray-900",modelValue:a.filter.course_id,"onUpdate:modelValue":l[0]||(l[0]=t=>a.filter.course_id=t),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Course"),options:o.classes.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),i("div",P,[s(n,{for:"name",value:"Select Subject",required:!1}),s(d,{id:"subject",class:"dark:text-gray-900",modelValue:a.filter.subject_id,"onUpdate:modelValue":l[1]||(l[1]=t=>a.filter.subject_id=t),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Subject"),options:a.filter_subjects.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),o.teachers?(p(),T("div",W,[s(n,{for:"name",value:"Select Teacher",required:!1}),s(d,{id:"teacher",class:"dark:text-gray-900",modelValue:a.filter.teacher_id,"onUpdate:modelValue":l[2]||(l[2]=t=>a.filter.teacher_id=t),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Teacher"),options:o.teachers.map(t=>({value:t.id,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])])):q("",!0),i("div",z,[s(v,{loading:a.filter.processing,type:"submit",theme:"primary"},{default:c(()=>[_(f(e.__("Search")),1)]),_:1},8,["loading"])])],34)]),i("div",E,[s(j,{options:a.calendarOptions,class:"min-w-[991px]"},null,8,["options"])])])]),_:1},8,["title"])}const de=V(O,[["render",H]]);export{de as default};
