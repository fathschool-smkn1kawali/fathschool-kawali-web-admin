import{_ as I}from"./AppLayout.8b90d46b.js";import{T as F}from"./ToolTip.90a7442a.js";import{P as L}from"./Pagination.7c6055c2.js";import{_ as N,I as d,N as V,u as B,o as b,c as y,w as l,a as s,b as o,t as u,j as R,C as D,g as h,s as x,X as v,r as i}from"./app.9bacd1a0.js";import{P as E}from"./PieChart.d9a1a523.js";import{_ as P}from"./Modal.d266a93d.js";import{s as A}from"./multiselect.5e8a11c6.js";/* empty css                                                         */import{r as T}from"./TrashIcon.5ff165f8.js";import{r as U}from"./PencilSquareIcon.1e81501b.js";import{r as j}from"./EyeIcon.6f597e55.js";import{r as O}from"./ArrowRightIcon.7cd4c706.js";import"./TopBarMenu.978fcd11.js";import"./CheckCircleIcon.14efd96d.js";import"./shepherd.esm.8b0b6bfa.js";import"./XMarkIcon.db621c27.js";import"./WarningToast.5000d5fb.js";import"./NavLink.7e4b7702.js";import"./PlusCircleIcon.7b47160e.js";import"./UserIcon.2090e4c3.js";import"./Bars3Icon.559bf817.js";import"./auto.4bbfcea2.js";const q={components:{AppLayout:I,ToolTip:F,TrashIcon:T,PencilSquareIcon:U,Pagination:L,EyeIcon:j,ArrowRightIcon:O,dayjs:d,PieChart:E,ExportModal:P,Multiselect:A,NothingFound:V},props:{courses:Array,filter_data:Object},data(){var e,t,n;return{filter:B({course_id:(e=this.filter_data.course_id)!=null?e:"",month:(t=this.filter_data.month)!=null?t:"",year:(n=this.filter_data.year)!=null?n:""}),customDateFormat:"YYYY-MM-DD",customMonthFormat:"YYYY-MM",month_value:this.filter_data.month?d(d(this.filter_data.month).format("MMM")+this.filter_data.year,this.customMonthFormat):null,selected_month:this.filter_data.month,selected_year:this.filter_data.year,visible:!1,loading:!1,export_data:{type:"xlsx",month:"",year:"",course:""}}},watch:{month_value:function(e){e?(this.filter.month=d(e).format("MM"),this.filter.year=d(e).format("YYYY")):(this.filter.month=null,this.filter.year=null)}},methods:{showExportModal(){this.visible=!0},exportSubmit(){this.loading=!0,this.export_data.year=this.filter.year,this.export_data.month=this.filter.month,this.export_data.course=this.filter.course_id,axios({url:this.route("report.allStudent.fees.export"),method:"POST",data:this.export_data,responseType:"blob"}).then(e=>{var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t;const c=e.headers["content-disposition"],r=c.indexOf('"')+1,p=c.lastIndexOf('"'),m=c.substring(r,p);n.setAttribute("download",m),document.body.appendChild(n),n.click(),this.loading=!1,this.visible=!1}).catch(e=>{this.loading=!1,this.visible=!1})},getMonthName(e){return d(`${this.selected_year}-${e}`).format("MMMM")}},computed:{daysInMonth(){return this.selected_year==""||this.selected_month==""?!1:d(`${this.selected_year}-${this.selected_month}`).daysInMonth()}},mounted(){}},z={class:"py-12"},H={class:"text-center"},X={class:"mb-3 rounded-lg py-4 font-semibold text-left rtl:text-right text-gray-900 bg-white dark:text-white dark:bg-gray-800"},G={class:"dark:text-gray-400 mb-0 text-2xl"},J={class:"col-span-3"},K={class:"col-span-3"},Q={class:"flex gap-3"},W={class:"col-span-3"},Z={class:"text-center mt-52"},$=o("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"},[o("path",{"vector-effect":"non-scaling-stroke","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),ee={class:"mt-2 text-sm font-medium text-gray-900"},te={class:"mt-1 text-sm text-gray-500"},oe={class:"flex gap-6"},re={class:"w-full rounded-lg cursor-pointer flex items-center pl-4 border border-gray-200 dark:border-gray-700"},se={for:"pdf",class:"w-full cursor-pointer rounded-lg flex items-center pl-4 border border-gray-200 dark:border-gray-700"};function ae(e,t,n,c,r,p){const m=i("BreadcrumbLink"),k=i("Breadcrumb"),g=i("page-header"),f=i("global-label"),M=i("Multiselect"),w=i("a-date-picker"),_=i("global-button"),Y=i("NothingFound"),C=i("export-modal"),S=i("AppLayout");return b(),y(S,{title:e.__("Student fees Report")},{default:l(()=>[s(k,null,{default:l(()=>[s(m,{href:e.route("reports.index"),title:"Report"},null,8,["href"]),s(m,{title:e.__("Student fees List")},null,8,["title"])]),_:1}),o("div",z,[r.loading?(b(),y(g,{key:0},{default:l(()=>[o("div",H,u(e.__("It can take up to 2 minutes to generate this report, so please wait.")),1)]),_:1})):R("",!0),o("div",X,[s(g,{class:"flex justify-between items-center"},{default:l(()=>[o("div",null,[o("h1",G,u(e.__("Course wise Fees Report")),1)])]),_:1}),o("form",{class:"grid grid-cols-1 md:grid-cols-9 gap-2 items-center px-6",onSubmit:t[2]||(t[2]=D(a=>p.exportSubmit(),["prevent"]))},[o("div",J,[s(f,{for:"class",value:"Course"}),s(M,{id:"class",class:"dark:text-gray-900",modelValue:r.filter.course_id,"onUpdate:modelValue":t[0]||(t[0]=a=>r.filter.course_id=a),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Course"),options:n.courses.map(a=>({value:a.id,label:a.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])]),o("div",K,[s(f,{for:"month",value:"Month"}),o("div",Q,[s(w,{size:"large",placeholder:e.__("Select Month"),picker:"month",value:r.month_value,"onUpdate:value":t[1]||(t[1]=a=>r.month_value=a),format:"MMM YYYY",style:{width:"400px"}},null,8,["placeholder","value"])])]),o("div",W,[s(_,{loading:r.loading,class:"text-white mt-6 bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 dark:focus:ring-blue-300"},{default:l(()=>[h(u(e.__("Export Report")),1)]),_:1},8,["loading"])])],32)]),o("div",Z,[$,o("h3",ee,[s(Y,{asShow:"div"})]),o("p",te,u(e.__("Please choose the month and Course")),1)])]),s(C,{show:r.visible,onClose:t[7]||(t[7]=a=>r.visible=!1)},{title:l(()=>[h(u(e.__("Export Data")),1)]),content:l(()=>[o("div",oe,[o("div",re,[x(o("input",{value:"xlsx",id:"excel","onUpdate:modelValue":t[3]||(t[3]=a=>r.export_data.type=a),type:"radio",name:"export_type",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[v,r.export_data.type]]),s(f,{for:"excel",class:"py-3 ml-2 cursor-pointer w-full text-sm font-medium text-gray-900 dark:text-gray-300",value:"Excel",required:!1})]),o("label",se,[x(o("input",{value:"pdf",id:"pdf","onUpdate:modelValue":t[4]||(t[4]=a=>r.export_data.type=a),type:"radio",name:"export_type",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,512),[[v,r.export_data.type]]),s(f,{for:"pdf",class:"py-3 ml-2 w-full text-sm font-medium cursor-pointer text-gray-900 dark:text-gray-300",value:"PDF",required:!1})])])]),footer:l(()=>[s(_,{loading:!1,onClick:t[5]||(t[5]=a=>r.visible=!1),type:"button",theme:"outline-danger"},{default:l(()=>[h(u(e.__("Cancel")),1)]),_:1}),s(_,{onClick:t[6]||(t[6]=a=>p.exportSubmit()),loading:r.loading,type:"button",class:"mr-2"},{default:l(()=>[h(u(e.__("Export")),1)]),_:1},8,["loading"])]),_:1},8,["show"])]),_:1},8,["title"])}const Ie=N(q,[["render",ae]]);export{Ie as default};
