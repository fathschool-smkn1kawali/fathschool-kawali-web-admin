import{_ as D,u as M,I as g,o as u,c as x,w as p,b as s,t as m,a as l,g as U,e as _,i as O,F as C,j as P,n as k,s as v,D as F,r as i,X as Y}from"./app.9bacd1a0.js";import{s as j}from"./multiselect.5e8a11c6.js";/* empty css                */import{T as R}from"./ToolTip.90a7442a.js";const q={components:{Multiselect:j,ToolTip:R},props:{users:Object,meeting:Object,roles:Object,errors:Object},data(){return{filter_users:[],customDateFormat:"DD-MM-YYYY",timeFormat:"h:m A",visible:!1,start_date:null,form:M({topic:"",start_date:"",password:"",selected_role:"Student",participants:[],description:"",all_user:!1,_method:this.meeting?"PUT":"POST"})}},watch:{meeting:{deep:!0,handler(e,o){this.form.topic=e.topic,this.start_date=g(e.start_time),this.form.start_date=g(e.start_time),this.form.description=e.description,this.form.password=e.password,this.form._method=this.meeting?"PUT":"POST";let a="";e.participants.forEach(c=>{var t;this.form.participants.push(c.user_id),a=(t=c.user.role)!=null?t:null}),this.form.selected_role=a,this.getRole(a)}}},mounted(){this.getRole(this.form.selected_role)},methods:{showModal(){this.visible=!0},handleOk(e){this.visible=!1},getRole(e){let o=[];this.users.forEach(a=>{a.role==e&&o.push(a)}),this.filter_users=o},submit(){this.start_date?this.form.start_date=g(this.start_date).format("YYYY-MM-DDTHH:mm:ssZZ"):this.form.start_date="",this.meeting?this.form.post(this.route("meeting.update",this.meeting.id),{preserveScroll:!0,onSuccess:e=>{this.visible=!1,this.form._method="POST",this.form.reset("topic","start_date","start_date","description","password")}}):this.form.post(this.route("meeting.store"),{onSuccess:e=>{this.visible=!1,this.form.reset("topic","start_date","start_date","description","password")}})}}},E={class:"w-full dark:border-gray-700 rounded-lg"},B={class:"mb-3"},H={class:"mb-3"},N={class:"mb-3"},A={class:"mb-3"},I={class:"grid grid-cols-1 md:grid-cols-3 items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},Z=["for"],z={class:"flex items-center pl-3"},L=["onChange","id","value"],X=["for"],G={class:"mb-3"},J={class:"md:flex justify-between items-center gap-2"},K={key:0,class:"md:w-1/2"},Q={for:"all_user",class:"flex items-center ml-4"},W={for:"all_user",class:"ml-3 flex items-center h-10 text-sm font-medium text-gray-900 dark:text-gray-300"},$={class:"width-100"};function ee(e,o,a,c,t,f){const d=i("global-label"),b=i("global-input"),n=i("input-error"),y=i("a-date-picker"),w=i("Multiselect"),V=i("global-textarea"),S=i("global-button"),T=i("a-modal");return u(),x(T,{width:"600px",visible:t.visible,"onUpdate:visible":o[8]||(o[8]=r=>t.visible=r),"wrap-style":{overflow:"auto"},onOk:f.handleOk},{title:p(()=>[s("div",$,m(e.__("Add Meeting")),1)]),footer:p(()=>[l(S,{loading:t.form.processing,type:"button",onClick:o[7]||(o[7]=r=>f.submit()),class:"text-white w-full bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 mr-2 mb-2 dark:focus:ring-blue-300"},{default:p(()=>[U(m(e.__("Save")),1)]),_:1},8,["loading"])]),default:p(()=>[s("div",E,[s("div",B,[l(d,{for:"topic",value:"Topic",required:!0}),l(b,{type:"text",modelValue:t.form.topic,"onUpdate:modelValue":o[0]||(o[0]=r=>t.form.topic=r),id:"topic",name:"topic",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Topic"),error:e.$page.props.errors.topic},null,8,["modelValue","placeholder","error"]),l(n,{error:e.$page.props.errors.topic},null,8,["error"])]),s("div",H,[l(d,{for:"start_date",value:"Start Date",required:!0}),l(y,{value:t.start_date,"onUpdate:value":o[1]||(o[1]=r=>t.start_date=r),id:"start_date",class:"w-full custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400","show-time":"",format:e.getDateTimeFormat()+" HH:mm:ss",placeholder:e.__("Select Start Date")},null,8,["value","format","placeholder"]),l(n,{error:e.$page.props.errors.start_date},null,8,["error"])]),s("div",N,[l(d,{for:"password",value:e.__("Meeting Password"),required:!0},null,8,["value"]),l(b,{type:"password",modelValue:t.form.password,"onUpdate:modelValue":o[2]||(o[2]=r=>t.form.password=r),id:"password",name:"password",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter password"),error:e.$page.props.errors.password},null,8,["modelValue","placeholder","error"]),l(n,{error:e.$page.props.errors.password},null,8,["error"])]),s("div",A,[l(d,{for:"participants",value:e.__("Select Participants Role"),required:!0},null,8,["value"]),s("ul",I,[(u(!0),_(C,null,O(a.roles,r=>(u(),_("label",{for:"role"+r.id,key:r.index,class:"w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"},[s("div",z,[v(s("input",{"onUpdate:modelValue":o[3]||(o[3]=h=>t.form.selected_role=h),onChange:h=>f.getRole(r.name),id:"role"+r.id,type:"radio",value:r.name,name:"role",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"},null,40,L),[[Y,t.form.selected_role]]),s("label",{for:"role"+r.id,class:"w-full py-3 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},m(r.name),9,X)])],8,Z))),128))])]),s("div",G,[l(d,{for:"participants",value:e.__("Participants"),required:!0},null,8,["value"]),s("div",J,[t.form.all_user?P("",!0):(u(),_("div",K,[l(w,{mode:"multiple",modelValue:t.form.participants,"onUpdate:modelValue":o[4]||(o[4]=r=>t.form.participants=r),"close-on-select":!1,searchable:!0,"create-option":!1,placeholder:e.__("Select Participant"),options:t.filter_users.map(r=>({value:r.id,label:r.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"])])),s("div",{class:k([t.form.all_user?"w-full":"md:w-1/2","mt-2 md:mt-0 border rounded"])},[s("label",Q,[v(s("input",{"onUpdate:modelValue":o[5]||(o[5]=r=>t.form.all_user=r),id:"all_user",type:"checkbox",value:"all_user",class:k([t.form.all_user?"ml-3":"","rounded-full text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-700 dark:focus:ring-offset-gray-700 focus:ring-2 dark:bg-gray-600 dark:border-gray-500"])},null,2),[[F,t.form.all_user]]),s("label",W,m(e.__("All Users This Role")),1)])],2)]),l(n,{error:e.$page.props.errors.participants},null,8,["error"])]),s("div",null,[l(d,{for:"description",value:e.__("Meeting Description"),required:!1},null,8,["value"]),l(V,{modelValue:t.form.description,"onUpdate:modelValue":o[6]||(o[6]=r=>t.form.description=r),id:"description",name:"description",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),l(n,{error:e.$page.props.errors.description},null,8,["error"])])])]),_:1},8,["visible","onOk"])}const le=D(q,[["render",ee],["__scopeId","data-v-82d9ef09"]]);export{le as default};
