import{f,u as B,o as a,e as r,a as e,h as n,w as d,b as m,F as c,g as l,t as u,C as g,r as p,H as F,Q as I}from"./app.30f46569.js";import{J as T}from"./AuthenticationCard.4b9ec3b2.js";import{_ as b}from"./Input.6b186ad8.js";import{_ as k}from"./Label.b72d53b2.js";import{_ as U}from"./ValidationErrors.adb83130.js";const L={class:"mb-4 text-sm text-gray-600"},N={key:0},$={key:1},H={class:"flex items-center justify-end mt-4"},D={__name:"TwoFactorChallenge",setup(J){const s=f(!1),o=B({code:"",recovery_code:""}),y=f(null),v=f(null),h=async()=>{s.value^=!0,await I(),s.value?(y.value.focus(),o.code=""):(v.value.focus(),o.recovery_code="")},C=()=>{o.post(route("two-factor.login"))};return(t,i)=>{const w=p("app-logo"),x=p("Link"),V=p("global-button");return a(),r(c,null,[e(n(F),{title:t.__("Two-factor Confirmation")},null,8,["title"]),e(T,null,{logo:d(()=>[e(x,{class:"flex-none text-xl font-semibold dark:text-white",href:t.route("dashboard"),"aria-label":"Brand"},{default:d(()=>[e(w,{class:"block h-1/2 w-auto"})]),_:1},8,["href"])]),default:d(()=>[m("div",L,[s.value?(a(),r(c,{key:1},[l(u(t.__("Please confirm access to your account by entering one of your emergency recovery codes")),1)],64)):(a(),r(c,{key:0},[l(u(t.__("Please confirm access to your account by entering the authentication code provided by your authenticator application"))+". ",1)],64))]),e(U,{class:"mb-4"}),m("form",{onSubmit:g(C,["prevent"])},[s.value?(a(),r("div",$,[e(k,{for:"recovery_code",value:"Recovery Code"}),e(b,{id:"recovery_code",ref_key:"recoveryCodeInput",ref:y,modelValue:n(o).recovery_code,"onUpdate:modelValue":i[1]||(i[1]=_=>n(o).recovery_code=_),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])):(a(),r("div",N,[e(k,{for:"code",value:"Code"}),e(b,{id:"code",ref_key:"codeInput",ref:v,modelValue:n(o).code,"onUpdate:modelValue":i[0]||(i[0]=_=>n(o).code=_),type:"text",inputmode:"numeric",class:"mt-1 block w-full",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])])),m("div",H,[m("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer",onClick:g(h,["prevent"])},[s.value?(a(),r(c,{key:1},[l(u(t.__("Use an authentication code")),1)],64)):(a(),r(c,{key:0},[l(u(t.__("Use a recovery code")),1)],64))]),e(V,{loading:n(o).processing,type:"submit",cssClass:"ml-4",theme:"primary"},{default:d(()=>[l(u(t.__("Login")),1)]),_:1},8,["loading"])])],32)]),_:1})],64)}}};export{D as default};
