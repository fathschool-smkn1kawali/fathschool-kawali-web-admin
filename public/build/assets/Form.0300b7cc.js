import{_ as E}from"./AppLayout.8b90d46b.js";import{s as L}from"./multiselect.5e8a11c6.js";/* empty css                */import{_ as G,N as H,I as w,u as R,o as l,c as h,w as k,a as o,b as r,t as c,g as V,n as _,C as J,e as d,F as f,j as p,i as x,r as a,s as K,D as Q}from"./app.9bacd1a0.js";import{r as W}from"./PlusCircleIcon.7b47160e.js";import{r as X}from"./MinusCircleIcon.df34812d.js";import{a as Z,r as $}from"./CheckCircleIcon.14efd96d.js";import{r as ee}from"./TrashIcon.5ff165f8.js";import{r as re}from"./TopBarMenu.978fcd11.js";import{r as te}from"./CircleStackIcon.cc3c3e41.js";import"./WarningToast.5000d5fb.js";import"./NavLink.7e4b7702.js";import"./shepherd.esm.8b0b6bfa.js";import"./UserIcon.2090e4c3.js";import"./Bars3Icon.559bf817.js";import"./XMarkIcon.db621c27.js";const ie={components:{AppLayout:E,Multiselect:L,PlusCircleIcon:W,MinusCircleIcon:X,CheckCircleIcon:Z,TrashIcon:ee,AcademicCapIcon:re,CircleStackIcon:te,BookOpenIcon:$,NothingFound:H},props:{courses:Object,nationalities:Array,administration:Object,subjects:Array,departments:Object},data(){return{wizard:1,date_of_birth_value:this.administration&&this.administration.date_of_birth?w(this.administration.date_of_birth):null,passing_year_value:this.administration&&this.administration.profile?w(this.administration.profile.passing_year):null,validate_errors:{},document_size:[1],form:R({name:this.administration?this.administration.name:"",email:this.administration?this.administration.email:"",user_type:"Administration",phone:this.administration?this.administration.phone:"",address:this.administration?this.administration.address:"",gender:this.administration?this.administration.gender:"",department:this.administration?this.administration.department_id:"",date_of_birth:this.administration?this.administration.date_of_birth:"",documents:[],document_titles:[],highest_degree_name:this.administration&&this.administration.profile?this.administration.profile.highest_degree_name:null,institute_name:this.administration&&this.administration.profile?this.administration.profile.institute_name:null,passing_year:this.administration&&this.administration.profile?this.administration.profile.passing_year:null,religion:this.administration&&this.administration.profile?this.administration.profile.religion:null,nationality:this.administration&&this.administration.profile?this.administration.profile.nationality:null,subjects:this.subjects?this.subjects:[],_method:this.administration?"PUT":"POST"})}},watch:{date_of_birth_value:{deep:!0,handler(t,i){t?this.form.date_of_birth=w(t).format("YYYY-MM-DD"):this.form.date_of_birth=null}},passing_year_value:{deep:!0,handler(t,i){t?this.form.passing_year=w(t).format("YYYY"):this.form.passing_year=null}},wizard:{deep:!0,handler(t,i){this.validate_errors={}}}},methods:{removeDoc(t){confirm("Are your sure ??")&&this.$inertia.post(this.route("admin.doc.destroy",t),{preserveScroll:!0})},picDocs(t){this.form.documents.push(t.target.files[0])},submit(){this.date_of_birth_value?this.form.date_of_birth=w(this.date_of_birth_value).format("DD-MM-YYYY"):this.form.date_of_birth=null,this.administration?this.form.post(this.route("users.update",this.administration.id),{preserveScroll:!0}):this.form.post(this.route("users.store"),{preserveScroll:!0,onSuccess:()=>{}})},wizardChange(t){t=="next"?this.validationPart(this.wizard)||(this.validate_errors={},this.wizard=this.wizard+1):this.wizard=this.wizard-1},isValidEmail(t){return/^[^@]+@\w+(\.\w+)+\w$/.test(t)},addDocument(t){t==0?this.document_size.push(1):(this.document_size.splice(t,1),this.form.document_titles.splice(t,1),this.form.documents.splice(t,1))},validationPart(t){let i=!1;return t==1?(this.form.name||(Object.assign(this.validate_errors,{name:"The name field is required"}),i=!0),this.form.email||(Object.assign(this.validate_errors,{email:"The email field is required"}),i=!0),this.isValidEmail(this.form.email)||(Object.assign(this.validate_errors,{email:"The email is invalid ."}),i=!0),this.form.date_of_birth||(Object.assign(this.validate_errors,{date_of_birth:"The date of birth field is required ."}),i=!0)):t==2?(this.form.highest_degree_name||(Object.assign(this.validate_errors,{highest_degree_name:"The highest degree name field is required ."}),i=!0),this.form.institute_name||(Object.assign(this.validate_errors,{institute_name:"The institute name field is required ."}),i=!0),this.form.passing_year||(Object.assign(this.validate_errors,{passing_year:"The passing year field is required ."}),i=!0)):(this.selected_courses||(Object.assign(this.validate_errors,{course:"The course field is required ."}),i=!0),this.form.subjects||(Object.assign(this.validate_errors,{subjects:"The subjects field is required ."}),i=!0)),i}}},oe={class:"mx-auto pb-12"},se={class:"rounded-lg flex justify-between items-center mb-4 py-4 px-6 text-lg font-semibold rtl:text-right text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800"},le={class:"dark:text-gray-400"},ae={class:"w-full lg:w-1/2 mx-auto"},ne={class:"flex items-center"},de={class:"absolute whitespace-nowrap -top-3 -ml-0.5 w-full text-center mt-16 text-xs font-bold"},ue={class:"absolute whitespace-nowrap -top-3 -ml-8 w-full text-center mt-16 text-xs font-bold"},me={class:"absolute whitespace-nowrap -ml-10 -top-3 w-full text-center mt-16 text-xs font-bold"},ce={class:"w-full lg:w-1/2 mx-auto rounded-lg mt-12"},he={class:"grid sm:grid-cols-1 md:grid-cols-1 sm:gap-1 md:gap-4"},_e={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ge={class:"mb-3"},pe={class:"mb-3"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ve={class:"mb-3"},ye={class:"mb-1"},ke={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},we={class:"mb-3"},xe={class:"mb-1"},Ce={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},Ve={class:"mb-3"},ze={class:"mb-3"},je={class:"mb-3"},De={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},Ie={class:"mb-3"},qe={class:"mb-3"},Ne={class:"mb-3"},Se={class:"mb-3"},Ae={class:"w-full"},Oe={class:"w-full"},Te=["id"],Ue=["onClick"],Ye={key:0,class:"flex flex-wrap gap-3 p-1"},Be=["href"],Pe=["onClick"],Me={class:"ml-4"},Fe=r("div",{class:"mt-2"},null,-1),Ee={key:1,class:"w-full bg-white rounded-lg border border-white p-6 dark:bg-gray-800 dark:border-gray-700"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge={class:"font-bold capitalize text-base dark:text-gray-400"},He={class:"grid grid-cols-2 gap-1"},Re=["for"],Je=["id","value"],Ke=["for"],Qe={key:2,class:"p-4 text-center"},We={class:"flex justify-end gap-2"};function Xe(t,i,b,Ze,e,v){const I=a("BreadcrumbLink"),q=a("Breadcrumb"),C=a("global-button"),N=a("Link"),z=a("CheckCircleIcon"),S=a("CircleStackIcon"),A=a("AcademicCapIcon"),O=a("BookOpenIcon"),u=a("global-label"),g=a("global-input"),m=a("input-error"),j=a("a-date-picker"),T=a("global-textarea"),D=a("Multiselect"),U=a("PlusCircleIcon"),Y=a("MinusCircleIcon"),B=a("trash-icon"),P=a("NothingFound"),M=a("AppLayout");return l(),h(M,{title:t.__("Administration Create")},{default:k(()=>[o(q,null,{default:k(()=>[o(I,{title:t.__("Administration Create")},null,8,["title"])]),_:1}),r("div",oe,[r("div",se,[r("div",le,c(t.__("administration Create")),1),o(N,{"preserve-scroll":"",href:t.route("administrations.index")},{default:k(()=>[o(C,{loading:!1,type:"button",theme:"primary"},{default:k(()=>[V(c(t.__("All administrations")),1)]),_:1})]),_:1},8,["href"])]),r("div",ae,[r("div",ne,[r("div",{class:_([e.wizard>1?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[r("div",{class:_([e.wizard>1?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>1?(l(),h(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(l(),h(S,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),r("div",de,c(t.__("Basic Information")),1)],2)],2),r("div",{class:_([e.wizard>1?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),r("div",{class:_([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[r("div",{class:_([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>2?(l(),h(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(l(),h(A,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),r("div",ue,c(t.__("Academic Information")),1)],2)],2),r("div",{class:_([e.wizard>2?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),r("div",{class:_([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[r("div",{class:_([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[o(O,{width:"100%",height:"100%",class:"w-full h-full"}),r("div",me,c(t.__("Course & Subject")),1)],2)],2)])]),r("div",ce,[r("form",{class:"mt-2",onSubmit:i[16]||(i[16]=J(s=>v.submit(),["prevent"])),enctype:"multipart/form-data"},[r("div",he,[e.wizard==1?(l(),d(f,{key:0},[r("div",_e,[r("div",fe,[r("div",ge,[o(u,{for:"name",value:"Name",required:!0}),o(g,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":i[0]||(i[0]=s=>e.form.name=s),id:"name",name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Enter Name"),error:e.validate_errors.name},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.name},null,8,["error"])]),r("div",pe,[o(u,{for:"email",value:"Email",required:!0}),o(g,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":i[1]||(i[1]=s=>e.form.email=s),id:"email",name:"email",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Enter Email"),error:e.validate_errors.email},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.email},null,8,["error"])])]),r("div",be,[r("div",ve,[o(u,{for:"email",value:"Date of Birth",required:!0}),o(j,{format:t.getDateTimeFormat(),class:"ant-datepicker-custom",value:e.date_of_birth_value,"onUpdate:value":i[2]||(i[2]=s=>e.date_of_birth_value=s)},null,8,["format","value"]),o(m,{error:e.validate_errors.date_of_birth},null,8,["error"])]),r("div",ye,[o(u,{for:"phone",value:"Phone",required:!1}),o(g,{type:"number",modelValue:e.form.phone,"onUpdate:modelValue":i[3]||(i[3]=s=>e.form.phone=s),id:"phone",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Phone"),error:e.validate_errors.phone},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.phone},null,8,["error"])])])]),r("div",ke,[r("div",we,[o(u,{for:"gender",value:"Gender",required:!1}),o(g,{type:"text",modelValue:e.form.gender,"onUpdate:modelValue":i[4]||(i[4]=s=>e.form.gender=s),id:"gender",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Gender"),error:e.validate_errors.gender},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.gender},null,8,["error"])]),r("div",xe,[o(u,{for:"address",value:"Present Address",required:!1}),o(T,{modelValue:e.form.address,"onUpdate:modelValue":i[5]||(i[5]=s=>e.form.address=s),id:"address",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Present Address"),error:e.validate_errors.address},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.address},null,8,["error"])])])],64)):p("",!0),e.wizard==2?(l(),d(f,{key:1},[r("div",Ce,[r("div",Ve,[o(u,{for:"highest_degree_name",value:"Highest Degree Name",required:!0}),o(g,{type:"text",modelValue:e.form.highest_degree_name,"onUpdate:modelValue":i[6]||(i[6]=s=>e.form.highest_degree_name=s),id:"highest_degree_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Highest Degree Name"),error:e.validate_errors.highest_degree_name},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.highest_degree_name},null,8,["error"])]),r("div",ze,[o(u,{for:"institute_name",value:"Institute Name",required:!0}),o(g,{type:"text",modelValue:e.form.institute_name,"onUpdate:modelValue":i[7]||(i[7]=s=>e.form.institute_name=s),id:"institute_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Institute Name"),error:e.validate_errors.institute_name},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.institute_name},null,8,["error"])]),r("div",je,[o(u,{for:"passing_year",value:"Passing Year",required:!0}),o(j,{onChange:t.getPassingYear,placeholder:"Passing Year",class:"ant-datepicker-custom",format:t.getDateTimeFormat(),value:e.passing_year_value,"onUpdate:value":i[8]||(i[8]=s=>e.passing_year_value=s),picker:"year"},null,8,["onChange","format","value"]),o(m,{error:e.validate_errors.passing_year},null,8,["error"])])]),r("div",De,[r("div",Ie,[o(u,{for:"department",value:"Department",required:!1}),o(D,{id:"department",modelValue:e.form.department,"onUpdate:modelValue":i[9]||(i[9]=s=>e.form.department=s),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:t.__("Select Department"),options:b.departments.map(s=>({value:s.id,label:s.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(m,{error:e.validate_errors.department},null,8,["error"])]),r("div",qe,[o(u,{for:"religion",value:"Religion",required:!1}),o(g,{type:"text",modelValue:e.form.religion,"onUpdate:modelValue":i[10]||(i[10]=s=>e.form.religion=s),id:"religion",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.Religion,error:e.validate_errors.religion},null,8,["modelValue","placeholder","error"]),o(m,{error:e.validate_errors.religion},null,8,["error"])]),r("div",Ne,[o(u,{for:"nationality",value:"Nationality",required:!1}),o(D,{id:"nationality","close-on-select":!0,"can-clear":!1,searchable:!0,modelValue:e.form.nationality,"onUpdate:modelValue":i[11]||(i[11]=s=>e.form.nationality=s),"create-option":!1,placeholder:t.__("Select Nationality"),options:b.nationalities.map(s=>({label:s,value:s})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(m,{error:e.validate_errors.nationality},null,8,["error"])]),r("div",Se,[o(u,{for:"document",value:"Document",required:!1}),(l(!0),d(f,null,x(e.document_size,(s,n)=>(l(),d("div",{key:n,class:"flex items-center gap-1 mb-2"},[r("div",Ae,[o(g,{type:"text",modelValue:e.form.document_titles[n],"onUpdate:modelValue":y=>e.form.document_titles[n]=y,id:"title"+n,class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:"Document Title",error:e.validate_errors.note},null,8,["modelValue","onUpdate:modelValue","id","error"])]),r("div",Oe,[r("input",{type:"file",onChange:i[12]||(i[12]=(...y)=>v.picDocs&&v.picDocs(...y)),class:_([e.validate_errors.document?"border-red-500 dark:border-red-500":"","pl-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),id:"document"+n,name:"document",accept:"image/*, pdf/*, doc/*",placeholder:""},null,42,Te)]),r("div",{onClick:y=>v.addDocument(n)},[o(C,{loading:t.loading,type:"button",cssClass:"font-bold",theme:n==0?"primary":"danger"},{default:k(()=>[n==0?(l(),h(U,{key:0,class:"w-6 h-6"})):(l(),h(Y,{key:1,class:"w-6 h-6"}))]),_:2},1032,["loading","theme"])],8,Ue)]))),128)),b.administration&&b.administration.documents.length>0?(l(),d("div",Ye,[(l(!0),d(f,null,x(b.administration.documents,(s,n)=>(l(),d("div",{class:"relative mt-2",key:s.id},[r("a",{href:s.file_url_format,download:""},c(t.__("Download Document"))+" ("+c(n+1)+") ",9,Be),r("button",{onClick:y=>v.removeDoc(s.id),type:"button",class:"absolute -top-4 bg-red-500 rounded-full -right-3"},[o(B,{class:"w-6 h-6 text-white p-0.5"})],8,Pe)]))),128))])):p("",!0),o(m,{error:e.validate_errors.documents},null,8,["error"])])])],64)):p("",!0)]),e.wizard==3?(l(),d(f,{key:0},[t.$page.props.errors?(l(),d(f,{key:0},[(l(!0),d(f,null,x(t.$page.props.errors,(s,n)=>(l(),d("div",{key:n,class:"md:w-1/2 mx-auto p-4 mb-1 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-gray-800 dark:text-red-400",role:"alert"},[r("div",Me,c(s),1)]))),128)),Fe],64)):p("",!0),b.courses.length>0?(l(),d("div",Ee,[o(u,{for:"course",value:"Select Subject",required:!0}),r("div",Le,[(l(!0),d(f,null,x(b.courses,s=>(l(),d("div",{key:s.id,class:"bg-white dark:bg-gray-800 border dark:border-gray-500 p-4 rounded"},[r("div",Ge,c(s.name),1),r("div",He,[(l(!0),d(f,null,x(s.subjects,(n,y)=>(l(),d("label",{for:"sub"+n.slug,key:y,class:"flex items-center pl-4 mt-1 border border-white rounded dark:border-gray-700"},[K(r("input",{"onUpdate:modelValue":i[13]||(i[13]=F=>e.form.subjects=F),id:"sub"+n.slug,type:"checkbox",value:n.id,name:"sub",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Je),[[Q,e.form.subjects]]),r("label",{for:"sub"+n.slug,class:"w-full py-2 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},c(n.name),9,Ke)],8,Re))),128))])]))),128)),o(m,{error:e.validate_errors.subjects},null,8,["error"])])])):(l(),d("div",Qe,[o(P,{asShow:"div"})]))],64)):p("",!0),r("div",We,[e.wizard>1?(l(),d("button",{key:0,onClick:i[14]||(i[14]=s=>v.wizardChange("prev")),class:"text-pink-500 border border-pink-500 hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold w-1/4 mt-3 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button"},c(t.__("Back")),1)):p("",!0),e.wizard<3?(l(),h(C,{key:1,onClick:i[15]||(i[15]=s=>v.wizardChange("next")),loading:!1,type:"button",cssClass:"w-1/4 mt-3 py-1 font-bold",theme:"primary"},{default:k(()=>[V(c(t.__("Next")),1)]),_:1})):p("",!0),e.wizard==3?(l(),h(C,{key:2,loading:e.form.processing,type:"submit",cssClass:"w-1/4 mt-3 font-bold",theme:"primary"},{default:k(()=>[V(c(t.__("Save")),1)]),_:1},8,["loading"])):p("",!0)])],32)])])]),_:1},8,["title"])}const fr=G(ie,[["render",Xe]]);export{fr as default};
