import{_ as S}from"./AppLayout.ae55cab5.js";import{_ as M,I as v,o as p,c as F,w as y,a as o,b as l,g as V,t as i,C as A,e as m,n as _,s as f,X as b,j as k,r as u}from"./app.8123fe3b.js";import{s as Y}from"./multiselect.adb2a472.js";/* empty css                */import"./TopBarMenu.831e8367.js";import"./CheckCircleIcon.1ab93f1e.js";import"./shepherd.esm.6ceab578.js";import"./XMarkIcon.842ecca4.js";import"./WarningToast.eff4882a.js";import"./NavLink.9e4c6fb6.js";import"./PlusCircleIcon.9cc6e4a0.js";import"./UserIcon.53552b9e.js";import"./Bars3Icon.d71deab9.js";const P={components:{AppLayout:S,Multiselect:Y},props:{types:Object,users:Object,errors:Object,transaction:Object,currencies:Array},data(){return{loading:!1,text:this.transaction?"Edit":"Create",types_data:[],customDateFormat:"DD-MM-YYYY",value:this.transaction&&this.transaction.date?v(this.transaction.date,this.customDateFormat):null,due_date:this.transaction&&this.transaction.due_date?v(this.transaction.due_date):null,form:{category_type:"",type:this.transaction?this.transaction.transaction_type_id:"",particular:this.transaction?this.transaction.user_id:"",title:this.transaction?this.transaction.title:"",amount:this.transaction?this.transaction.amount:"",currency:this.transaction?this.transaction.currency:"",date:this.transaction?this.transaction.date:"",due_date:this.transaction?this.transaction.due_date:null,paid_amount:this.transaction?this.transaction.paid_amount:"",description:this.transaction?this.transaction.description:"",status:this.transaction&&this.transaction.status?this.transaction.status:"unpaid",document:"",payment_method:this.transaction?this.transaction.method:"",_method:this.transaction?"PUT":"POST"}}},mounted(){let e=this.transaction?this.transaction.type.type:"expense";this.getType(e)},methods:{submit(){this.loading=!0,this.value&&(this.form.date=v(this.value).format("YYYY-MM-DD")),this.due_date&&(this.form.due_date=v(this.due_date).format("YYYY-MM-DD")),this.transaction?this.$inertia.post(this.route("transaction.update",this.transaction.id),this.form,{preserveScroll:!0,onSuccess:()=>{},onFinish:e=>{this.loading=!1}}):this.$inertia.post(this.route("transaction.store"),this.form,{preserveScroll:!0,onSuccess:()=>{},onFinish:e=>{this.loading=!1}})},picFile(e){this.form.document=e.target.files[0]},toUpperCase(e){return e.charAt(0).toUpperCase()+e.slice(1)},getType(e){this.form.category_type=e;var r=[];this.types.forEach(d=>{e==d.type&&r.push({value:d.id,label:d.name+" ( "+this.toUpperCase(this.form.category_type)+" )"})}),this.types_data=r}}},j={class:"pb-12"},B={key:0,class:"max-w-5xl flex flex-col gap-5 mx-auto"},O={class:"bg-white grid grid-cols-1 md:grid-cols-2 gap-3 border rounded-lg border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},L={class:"col-span-2 md:col-span-1"},E={class:"col-span-2 md:col-span-1"},N={class:"col-span-2 md:col-span-1"},z={class:"col-span-2 md:col-span-1"},I={class:"col-span-2 md:col-span-1"},W={class:"col-span-2 md:col-span-1"},R={class:"flex items-center gap-3"},X={for:"unpaid",class:"w-full flex items-center pl-4 rtl:pl-0 rtl:pr-4 border rounded-lg dark:bg-gray-700 border-gray-200 dark:border-gray-700"},G={for:"unpaid",class:"py-2.5 ml-2 rtl:ml-0 rtl:mr-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300 dark:bg-gray-700"},H={for:"paid",class:"w-full flex items-center pl-4 rtl:pl-0 rtl:pr-4 border rounded-lg dark:bg-gray-700 border-gray-200 dark:border-gray-700"},J={for:"paid",class:"py-2.5 ml-2 rtl:ml-0 rtl:mr-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300 dark:bg-gray-700"},K={class:"col-span-2 md:col-span-1"},Q={class:"col-span-2"},Z={class:"col-span-2"},$={for:"document",class:"block mb-2 items-center text-sm font-medium text-gray-900 dark:text-gray-400"},ee={key:0},re={class:"font-bold text-xs ml-1 rtl:ml-0 rtl:mr-1 dark:text-gray-400 mt-0.5"},oe={key:1,class:"max-w-5xl flex flex-col gap-5 mx-auto"},te={class:"bg-white grid grid-cols-1 md:grid-cols-2 gap-3 border rounded-lg border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},ae={class:"flex items-center pl-4 rtl:pl-0 rtl:pr-4 rounded-lg border border-gray-200 dark:border-gray-700"},le={for:"income",class:"py-2.5 ml-2 rtl:ml-0 rtl:mr-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300"},se={for:"expense",class:"py-2.5 ml-2 rtl:ml-0 rtl:mr-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300"},ne={key:0},de={key:1},ie={for:"document",class:"block mb-2 items-center text-sm font-medium text-gray-900 dark:text-gray-400"},ue={key:0},pe={class:"font-bold text-xs ml-1 rtl:ml-0 rtl:mr-1 dark:text-gray-400 mt-0.5"},me={class:"w-full grid grid-cols-1 md:grid-cols-2 gap-3 bg-white border rounded-lg border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},ce={class:"w-full grid grid-cols-1 md:grid-cols-2 gap-3 bg-white border rounded-lg border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},ge={key:0},ye={class:"relative"},fe={class:"absolute inset-y-0 left-0 rtl:right-0 rtl:left-auto flex items-center px-4 pointer-events-none dark:text-gray-400 border-r rtl:border-r-transparent rtl:border-l"},be={class:"dark:text-gray-400"},ke={key:1},he={class:"flex items-center gap-3"},_e={for:"unpaid",class:"w-full flex items-center pl-4 rtl:pl-0 rtl:pr-4 border rounded-lg dark:bg-gray-700 border-gray-200 dark:border-gray-700"},ve={for:"unpaid",class:"py-2.5 ml-2 rtl:ml-0 rtl:mr-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300 dark:bg-gray-700"},Ve={for:"paid",class:"w-full flex items-center pl-4 rtl:pl-0 rtl:pr-4 border rounded-lg dark:bg-gray-700 border-gray-200 dark:border-gray-700"},we={for:"paid",class:"py-2.5 ml-2 rtl:ml-0 rtl:mr-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300 dark:bg-gray-700"};function xe(e,r,d,Ue,a,c){const U=u("BreadcrumbLink"),T=u("Breadcrumb"),w=u("global-button"),C=u("page-header"),s=u("global-label"),g=u("global-input"),n=u("input-error"),h=u("Multiselect"),x=u("a-date-picker"),D=u("global-textarea"),q=u("AppLayout");return p(),F(q,{title:e.__("Transaction ")+a.text},{default:y(()=>[o(T,null,{default:y(()=>[o(U,{href:e.route("all.transaction"),title:e.__("All Transaction")},null,8,["href","title"]),o(U,{title:e.__("Transaction create")},null,8,["title"])]),_:1}),l("div",j,[o(C,null,{content:y(()=>[o(w,{"preserve-scroll":"",loading:!1,type:"link",url:e.route("all.transaction"),theme:"primary"},{default:y(()=>[V(i(e.__("Transaction List")),1)]),_:1},8,["url"])]),default:y(()=>[V(i(e.__("Transaction"))+" "+i(e.__(a.text))+" ",1)]),_:1}),l("form",{class:"mt-2",onSubmit:r[29]||(r[29]=A(t=>c.submit(),["prevent"])),enctype:"multipart/form-data"},[e.route().current("transaction.create")?(p(),m("div",B,[l("div",O,[l("div",L,[o(s,{for:"title",value:"Title",required:!0}),o(g,{id:"title",modelValue:a.form.title,"onUpdate:modelValue":r[0]||(r[0]=t=>a.form.title=t),type:"text",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.title},null,8,["error"])]),l("div",E,[o(s,{for:"type",value:"Type",required:!0}),o(h,{modelValue:a.form.type,"onUpdate:modelValue":r[1]||(r[1]=t=>a.form.type=t),"close-on-select":!0,searchable:!0,id:"type","create-option":!0,placeholder:e.__("Write to add type")+"...",options:a.types_data,autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(n,{error:e.$page.props.errors.type},null,8,["error"])]),l("div",N,[o(s,{for:"currency",value:"Currency",required:!0}),o(h,{id:"currency","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:a.form.currency,"onUpdate:modelValue":r[2]||(r[2]=t=>a.form.currency=t),"create-option":!1,placeholder:e.__("Currency"),options:d.currencies.map(t=>({value:t.code,label:t.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(n,{error:e.$page.props.errors.currency},null,8,["error"])]),l("div",z,[o(s,{for:"amount",value:"Amount",required:!0}),o(g,{id:"amount",modelValue:a.form.amount,"onUpdate:modelValue":r[3]||(r[3]=t=>a.form.amount=t),type:"number",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Amount"),error:e.$page.props.errors.amount},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.amount},null,8,["error"])]),l("div",I,[o(s,{for:"date",value:"Date",required:!0}),o(x,{class:_([d.errors.date?"ant-datepicker-custom-border":"","ant-datepicker-custom dark:bg-gray-700 dark:border-gray-700"]),name:"date",format:e.getDateTimeFormat(),id:"testDate",value:a.value,"onUpdate:value":r[4]||(r[4]=t=>a.value=t),placeholder:e.__("Select Date")},null,8,["class","format","value","placeholder"]),o(n,{error:e.$page.props.errors.date},null,8,["error"])]),l("div",W,[o(s,{for:"paid",value:"Status",required:!0}),l("div",R,[l("label",X,[f(l("input",{type:"radio",value:"unpaid","onUpdate:modelValue":r[5]||(r[5]=t=>a.form.status=t),id:"unpaid",name:"status",class:"w-4 h-4 text-blue-600 rounded-lg bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:border-gray-600"},null,512),[[b,a.form.status]]),l("label",G,i(e.__("Unpaid")),1)]),l("label",H,[f(l("input",{type:"radio",value:"paid","onUpdate:modelValue":r[6]||(r[6]=t=>a.form.status=t),id:"paid",name:"status",class:"w-4 h-4 text-blue-600 rounded-lg bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:border-gray-600"},null,512),[[b,a.form.status]]),l("label",J,i(e.__("Paid")),1)])])]),l("div",K,[o(s,{for:"payment_method",value:"Payment Method",required:!1}),o(g,{id:"payment_method",modelValue:a.form.payment_method,"onUpdate:modelValue":r[7]||(r[7]=t=>a.form.payment_method=t),type:"text",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Payment Method"),error:e.$page.props.errors.payment_method},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.payment_method},null,8,["error"])]),l("div",Q,[o(s,{for:"description",value:"Description",required:!1}),o(D,{id:"description",modelValue:a.form.description,"onUpdate:modelValue":r[8]||(r[8]=t=>a.form.description=t),type:"text",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.description},null,8,["error"])]),l("div",Z,[l("label",$,[l("span",null,i(e.__("Document ( invoice or file from a shop or company bill )")),1)]),d.transaction&&d.transaction.document?(p(),m("div",ee,[l("button",{onClick:r[9]||(r[9]=t=>e.download(d.transaction.document)),class:"text-pink-500 border border-pink-500 hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold uppercase px-4 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button"},i(e.__("Download Old")),1)])):k("",!0),l("input",{type:"file",onChange:r[10]||(r[10]=(...t)=>c.picFile&&c.picFile(...t)),class:_([d.errors.document?"border-red-500 dark:border-red-500":"","pl-4 rtl:pl-0 rtl:pr-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),id:"document",name:"document",accept:"image/*, pdf/*, doc/*",placeholder:""},null,34),l("div",re,i(e.__("Supported extension .pdf, .doc, .docx, .zip, .jpeg, .png")),1),o(n,{error:e.$page.props.errors.document},null,8,["error"])])]),o(w,{loading:a.loading,type:"submit",cssClass:"w-full mt-3",theme:"primary"},{default:y(()=>[V(i(e.__("Save")),1)]),_:1},8,["loading"])])):(p(),m("div",oe,[l("div",te,[l("div",null,[o(s,{for:"type",value:"Select Type",required:!0}),l("div",ae,[f(l("input",{onChange:r[11]||(r[11]=t=>c.getType("income")),"onUpdate:modelValue":r[12]||(r[12]=t=>a.form.category_type=t),id:"income",type:"radio",value:"income",name:"bordered-radio",class:"text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[b,a.form.category_type]]),l("label",le,i(e.__("Income")),1),f(l("input",{onChange:r[13]||(r[13]=t=>c.getType("expense")),"onUpdate:modelValue":r[14]||(r[14]=t=>a.form.category_type=t),id:"expense",type:"radio",value:"expense",name:"bordered-radio",class:"text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[b,a.form.category_type]]),l("label",se,i(e.__("Expense")),1)])]),a.form.category_type!="expense"?(p(),m("div",ne,[o(s,{for:"user",value:e.__("Select User"),required:!0},null,8,["value"]),o(h,{modelValue:a.form.particular,"onUpdate:modelValue":r[15]||(r[15]=t=>a.form.particular=t),"close-on-select":!0,searchable:!0,"create-option":!1,placeholder:e.__("Select User"),options:d.users.data,autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(n,{error:e.$page.props.errors.particular},null,8,["error"])])):k("",!0),a.form.category_type!="expense"?(p(),m("div",de,[l("label",ie,[l("span",null,i(e.__("Document ( invoice or file from a shop or company bill )")),1)]),d.transaction&&d.transaction.document?(p(),m("div",ue,[l("button",{onClick:r[16]||(r[16]=t=>e.download(d.transaction.document)),class:"text-pink-500 border border-pink-500 hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold uppercase px-4 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button"},i(e.__("Download Old")),1)])):k("",!0),l("input",{type:"file",onChange:r[17]||(r[17]=(...t)=>c.picFile&&c.picFile(...t)),class:_([d.errors.document?"border-red-500 dark:border-red-500":"","pl-4 rtl:pl-0 rtl:pr-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),id:"document",name:"document",accept:"image/*, pdf/*, doc/*",placeholder:""},null,34),l("div",pe,i(e.__("Supported extension .pdf, .doc, .docx, .zip, .jpeg, .png")),1),o(n,{error:e.$page.props.errors.document},null,8,["error"])])):k("",!0),l("div",null,[o(s,{for:"description",value:"Description",required:!1}),o(D,{id:"description",modelValue:a.form.description,"onUpdate:modelValue":r[18]||(r[18]=t=>a.form.description=t),type:"text",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.description},null,8,["error"])]),l("div",null,[o(s,{for:"type",value:"Type",required:!0}),o(h,{modelValue:a.form.type,"onUpdate:modelValue":r[19]||(r[19]=t=>a.form.type=t),"close-on-select":!0,searchable:!0,"create-option":!0,placeholder:e.__("Write to add type")+"...",options:a.types_data,autocomplete:"off"},null,8,["modelValue","placeholder","options"]),o(n,{error:e.$page.props.errors.type},null,8,["error"])])]),l("div",me,[l("div",null,[o(s,{for:"currency",value:"Currency",required:!0}),o(h,{id:"currency","close-on-select":!0,"can-clear":!0,searchable:!0,modelValue:a.form.currency,"onUpdate:modelValue":r[20]||(r[20]=t=>a.form.currency=t),"create-option":!1,placeholder:"Currency",options:d.currencies.map(t=>({value:t.code,label:t.name})),autocomplete:"off"},null,8,["modelValue","options"]),o(n,{error:e.$page.props.errors.currency},null,8,["error"])]),l("div",null,[o(s,{for:"amount",value:"Amount",required:!0}),o(g,{id:"amount",modelValue:a.form.amount,"onUpdate:modelValue":r[21]||(r[21]=t=>a.form.amount=t),type:"number",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Amount"),error:e.$page.props.errors.amount},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.amount},null,8,["error"])])]),l("div",ce,[a.form.category_type!="expense"?(p(),m("div",ge,[o(s,{for:"paid_amount",value:"Paid Amount",required:!1}),l("div",ye,[l("div",fe,[l("b",be,i(e.$page.props.default_currency),1)]),o(g,{id:"paid_amount",modelValue:a.form.paid_amount,"onUpdate:modelValue":r[22]||(r[22]=t=>a.form.paid_amount=t),type:"number",class:"pl-20 rtl:pl-0 rtl:pr-20 mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Paid Amount"),error:e.$page.props.errors.paid_amount},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.paid_amount},null,8,["error"])])])):k("",!0),l("div",null,[o(s,{for:"payment_method",value:"Payment Method",required:!1}),o(g,{id:"payment_method",modelValue:a.form.payment_method,"onUpdate:modelValue":r[23]||(r[23]=t=>a.form.payment_method=t),type:"text",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Payment Method"),error:e.$page.props.errors.payment_method},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.payment_method},null,8,["error"])]),l("div",null,[o(s,{for:"title",value:"Title",required:!0}),o(g,{id:"title",modelValue:a.form.title,"onUpdate:modelValue":r[24]||(r[24]=t=>a.form.title=t),type:"text",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),o(n,{error:e.$page.props.errors.title},null,8,["error"])]),l("div",null,[o(s,{for:"date",value:"Date",required:!0}),o(x,{class:_([d.errors.date?"ant-datepicker-custom-border":"","ant-datepicker-custom dark:bg-gray-700 dark:border-gray-700"]),name:"date",format:e.getDateTimeFormat(),value:a.value,"onUpdate:value":r[25]||(r[25]=t=>a.value=t),placeholder:e.__("Select Date")},null,8,["class","format","value","placeholder"]),o(n,{error:e.$page.props.errors.date},null,8,["error"])]),a.form.category_type!="expense"?(p(),m("div",ke,[o(s,{for:"due_date",value:"Due Date",required:!1}),o(x,{id:"due_date",class:_([d.errors.due_date?"ant-datepicker-custom-border":"","ant-datepicker-custom dark:bg-gray-700 dark:border-gray-700"]),format:e.getDateTimeFormat(),name:"due_date",value:a.due_date,"onUpdate:value":r[26]||(r[26]=t=>a.due_date=t),placeholder:e.__("Select Date")},null,8,["class","format","value","placeholder"]),o(n,{error:e.$page.props.errors.due_date},null,8,["error"])])):k("",!0),l("div",null,[o(s,{for:"paid",value:"Status",required:!0}),l("div",he,[l("label",_e,[f(l("input",{type:"radio",value:"unpaid","onUpdate:modelValue":r[27]||(r[27]=t=>a.form.status=t),id:"unpaid",name:"status",class:"w-4 h-4 text-blue-600 rounded-lg bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:border-gray-600"},null,512),[[b,a.form.status]]),l("label",ve,i(e.__("Unpaid")),1)]),l("label",Ve,[f(l("input",{type:"radio",value:"paid","onUpdate:modelValue":r[28]||(r[28]=t=>a.form.status=t),id:"paid",name:"status",class:"w-4 h-4 text-blue-600 rounded-lg bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:border-gray-600"},null,512),[[b,a.form.status]]),l("label",we,i(e.__("Paid")),1)])])])]),o(w,{loading:a.loading,type:"submit",cssClass:"w-full mt-3",theme:"primary"},{default:y(()=>[V(i(e.__("Save")),1)]),_:1},8,["loading"])]))],32)])]),_:1},8,["title"])}const Le=M(P,[["render",xe]]);export{Le as default};
