import{_ as B}from"./AppLayout.f7869522.js";import{m as D,a as F,F as E}from"./main.37f83fe2.js";import{m as H}from"./main.3ea356f7.js";import{m as S}from"./main.fd3fb458.js";import V from"./Create.9df96789.js";import N from"./Update.4da6be40.js";import j from"./Table.4479cfcd.js";import{_ as z,o as i,e as c,a as r,w as d,b as s,g as _,t as l,c as h,j as n,F as A,r as a}from"./app.eb4bca63.js";import"./TopBarMenu.57ba7e85.js";import"./CheckCircleIcon.c15b336b.js";import"./shepherd.esm.28e46ee4.js";import"./XMarkIcon.c835eea2.js";import"./WarningToast.ca887990.js";import"./NavLink.88c501bd.js";import"./PlusCircleIcon.b3c660e0.js";import"./UserIcon.11494925.js";import"./Bars3Icon.9d3eeab9.js";import"./Paginate.029db788.js";import"./ToolTip.e1c056c0.js";import"./PencilSquareIcon.8a68b151.js";import"./TrashIcon.e473cb8e.js";const T={props:{holidays:Array},data(){return{index:!0,create:!1,update:!1,form:{id:"",title:"",start:"",end:""},calendarOptions:{locale:this.$page.props.locale,plugins:[D,F,H,S],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"},buttonText:{prev:this.__("prev"),next:this.__("next"),today:this.__("today"),month:this.__("month"),week:this.__("week"),day:this.__("day"),list:this.__("list")},editable:!0,selectable:!0,weekends:!0,select:t=>{this.setDate(t.startStr,t.endStr)},eventClick:t=>{this.edit(t.event._def.publicId)},initialView:"dayGridMonth",events:this.holidays,eventDrop:this.eventDropped,eventResize:this.eventResized}}},components:{AppLayout:B,FullCalendar:E,CreateForm:V,UpdateForm:N,TableData:j},watch:{holidays:{handler(t,e){this.calendarOptions.events=t},deep:!0,immediate:!0}},methods:{setDate(t,e){var m=typeof t;m=="string"&&(this.form.start=t,this.form.end=e),this.form.title="",this.index=!1,this.update=!1,this.create=!0},edit(t){this.holidays.forEach((e,m)=>{e.id==t&&(this.form.id=t,this.form.title=e.title,this.form.start=e.start,this.form.end=e.end,this.index=!1,this.update=!0,this.create=!1)})},dataUpdate(){this.update=!1,this.create=!1,this.index=!0},eventDropped(t){let e=t.event;this.form.id=e.id,this.form.title=e.title,this.form.start=e.startStr,this.form.end=e.endStr,this.updateEvent()},eventResized(t){let e=t.event;this.form.id=e.id,this.form.title=e.title,this.form.start=e.startStr,this.form.end=e.endStr,this.updateEvent()},async updateEvent(){await axios.put(route("holiday.resized",this.form.id),this.form),window.location.reload()}}},G={class:"mx-auto pb-12"},O={class:"grid grid-cols-1 items-start md:grid-cols-3 gap-6"},R={class:"col-span-2 bg-white rounded-lg overflow-x-auto dark:bg-gray-800"},I={class:"bg-white dark:bg-gray-800 rounded-lg"},M={key:0,class:"flex justify-between px-6 items-center pt-6 text-gray-900 dark:text-gray-400 text-base font-bold"},W={key:1,class:"p-3 flex justify-between items-center mt-2 text-gray-900 dark:text-gray-400 text-base font-bold mb-0"},q={key:2,class:"px-6 pt-6 flex justify-between mt-2 text-gray-900 dark:text-gray-400 text-base font-bold mb-0"};function J(t,e,m,K,o,p){const u=a("Head"),f=a("BreadcrumbLink"),y=a("Breadcrumb"),b=a("page-header"),g=a("FullCalendar"),v=a("global-button"),k=a("back-button"),x=a("Link"),w=a("table-data"),C=a("create-form"),L=a("update-form"),U=a("AppLayout");return i(),c(A,null,[r(u,{title:t.__("Holiday List")},null,8,["title"]),r(U,null,{default:d(()=>[r(y,null,{default:d(()=>[r(f,{title:t.__("Holiday")},null,8,["title"])]),_:1}),s("div",G,[r(b,null,{default:d(()=>[_(l(t.__("Holiday List")),1)]),_:1}),s("div",O,[s("div",R,[r(g,{ref:"calendar",class:"p-6 min-w-[991px]",options:o.calendarOptions},null,8,["options"])]),s("div",I,[o.index?(i(),c("div",M,[s("div",null,l(t.__("Holiday List")),1),t.can("holiday.create")?(i(),h(v,{key:0,loading:!1,onClick:p.setDate,type:"button",theme:"primary"},{default:d(()=>[_(l(t.__("Create")),1)]),_:1},8,["onClick"])):n("",!0)])):n("",!0),o.create?(i(),c("h2",W,[s("div",null,l(t.__("Create New Holiday")),1),r(x,{"preserve-scroll":"",href:t.route("holiday.index"),class:"hover:text-gray-500"},{default:d(()=>[r(k)]),_:1},8,["href"])])):n("",!0),o.update?(i(),c("h2",q,[s("div",null,l(t.__("Update")),1)])):n("",!0),o.index?(i(),h(w,{key:3,onEdit:p.edit,holidays:m.holidays},null,8,["onEdit","holidays"])):n("",!0),o.create?(i(),h(C,{key:4,onUpdate:p.dataUpdate,data:o.form},null,8,["onUpdate","data"])):n("",!0),o.update?(i(),h(L,{key:5,onUpdate:p.dataUpdate,data:o.form},null,8,["onUpdate","data"])):n("",!0)])])])]),_:1})],64)}const ut=z(T,[["render",J]]);export{ut as default};
