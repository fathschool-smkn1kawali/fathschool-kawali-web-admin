import{_ as v,I as d,o as _,c as k,w as u,b as a,t as b,a as s,g as y,n as p,s as w,a3 as F,r as l}from"./app.8123fe3b.js";const D={props:{users:Object,leave:Object},data(){return{loading:!1,options:[],options2:[{value:"pending",label:"Pending"},{value:"accepted",label:"Accepted"},{label:"Rejected",value:"rejected"}],customDateFormat:"DD-MM-YYYY",visible:!1,form:{date:[this.leave.start?d(this.leave.start,this.customDateFormat):"",this.leave.end?d(this.leave.end,this.customDateFormat):""],user:this.leave.user_id,status:this.leave.status,description:this.leave.description,_method:"PUT"}}},watch:{leave:{deep:!0,handler(e,r){this.form.user=e.user_id,this.form.date=[d(e.start),d(e.end)],this.form.status=e.status,this.form.description=e.description}}},created(){for(const[e,r]of Object.entries(this.users))this.options.push({value:r.id,label:r.name})},methods:{showModal(){this.visible=!0},handleOk(e){this.visible=!1},submit(e){this.loading=!0,this.$inertia.post(this.route("manage-leave.update",this.leave.id),this.form,{preserveScroll:!0,onSuccess:r=>{this.visible=!1},onFinish:r=>{this.loading=!1}})}}},C={class:"w-full p-4 dark:bg-gray-800 dark:border-gray-700 rounded-lg"},B={class:"mb-3"},O={class:"mb-3"},S={class:"mb-3"},U={class:"mb-1"},j=["placeholder"];function V(e,r,q,M,o,c){const i=l("global-label"),m=l("a-select"),n=l("input-error"),h=l("a-range-picker"),g=l("global-button"),f=l("a-modal");return _(),k(f,{ref:"invoicemodal",width:"500px",visible:o.visible,"onUpdate:visible":r[5]||(r[5]=t=>o.visible=t),"wrap-style":{overflow:"auto"},onOk:c.handleOk},{title:u(()=>[a("div",{ref:"editmodal",class:"width-100"},b(e.__("Edit Leave")),513)]),footer:u(()=>[s(g,{loading:o.loading,type:"button",onClick:r[4]||(r[4]=t=>c.submit()),cssClass:"ml-5",theme:"primary",id:"updateButton"},{default:u(()=>[y(b(e.__("Edit")),1)]),_:1},8,["loading"])]),default:u(()=>[a("div",C,[a("div",B,[s(i,{for:"user",value:"Select User",required:!1}),s(m,{class:p([e.$page.props.errors.user?"border-custom ":"","width-100"]),size:"large",value:o.form.user,"onUpdate:value":r[0]||(r[0]=t=>o.form.user=t),"show-search":"",placeholder:e.__("Select a user"),options:o.options,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),s(n,{error:e.$page.props.errors.user},null,8,["error"])]),a("div",O,[s(i,{for:"date",value:"Date",required:!0}),s(h,{class:p([e.$page.props.errors.date?"border-custom":"","custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400"]),name:"date","disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,value:o.form.date,"onUpdate:value":r[1]||(r[1]=t=>o.form.date=t),format:o.customDateFormat},null,8,["class","disabled-date","disabled-time","value","format"]),s(n,{error:e.$page.props.errors.date},null,8,["error"])]),a("div",S,[s(i,{for:"status",value:"Select Status",required:!1}),s(m,{class:p([e.$page.props.errors.status?"border-custom ":"","width-100"]),size:"large",value:o.form.status,"onUpdate:value":r[2]||(r[2]=t=>o.form.status=t),"show-search":"",placeholder:e.__("Select a user"),options:o.options2,"filter-option":e.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),s(n,{error:e.$page.props.errors.status},null,8,["error"])]),a("div",U,[s(i,{for:"description",value:"Description",required:!1}),w(a("textarea",{placeholder:e.__("Description"),id:"description","onUpdate:modelValue":r[3]||(r[3]=t=>o.form.description=t),class:p([e.$page.props.errors.description?"border-red-500":"","pl-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 rounded-lg dark:text-gray-400 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"])},null,10,j),[[F,o.form.description]]),s(n,{error:e.$page.props.errors.description},null,8,["error"])])])]),_:1},8,["visible","onOk"])}const Y=v(D,[["render",V],["__scopeId","data-v-0c283937"]]);export{Y as default};
