import{_ as k,I as d,o as f,c as C,w as n,a as o,g as h,t as m,b as u,n as D,e as Y,j as S,C as M,r as a}from"./app.eb4bca63.js";const w={props:{data:Object},data(){return{loading:!1,visible:!1,update:!1,customDateFormat:"DD-MM-YYYY",form:{title:"",date:"",date2:"",_method:""}}},watch:{data:{deep:!0,handler(e,t){this.update=e.update,this.form._method=e.update?"PUT":"POST",this.form.title=e.title,this.form.date=[d(e.start),d(e.end)]}}},methods:{showModal(){this.visible=!0},hide(){this.form.title="",this.form.date="",this.visible=!1},submit(){this.loading=!0;let e=d(this.form.date[0]).format("YYYY-MM-DD"),t=d(this.form.date[1]).format("YYYY-MM-DD");this.form.date2=[e,t],this.update?this.$inertia.post(this.route("schedules.update",this.data.id),this.form,{preserveScroll:!0,onSuccess:l=>{this.hide()},onFinish:l=>{this.loading=!1}}):this.$inertia.post(this.route("schedules.store"),this.form,{preserveScroll:!0,onSuccess:l=>{this.hide()},onFinish:l=>{this.loading=!1}})},destroy(){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("schedules.destroy",this.data.id),{preserveScroll:!0,onSuccess:e=>{this.hide()}});else return!1}}},V={class:"w-full"},U={class:"mb-3"},F={class:"mb-3"};function T(e,t,l,x,r,i){const b=a("a-button"),p=a("global-label"),g=a("global-input"),c=a("input-error"),_=a("a-range-picker"),v=a("global-button"),y=a("a-modal");return f(),C(y,{visible:r.visible,"onUpdate:visible":t[4]||(t[4]=s=>r.visible=s),title:r.update?"Schedule Update":"Schedule Create",onOk:i.hide},{footer:n(()=>[o(b,{key:"back",onClick:i.hide},{default:n(()=>[h(m(e.__("Close")),1)]),_:1},8,["onClick"])]),default:n(()=>[u("form",{onSubmit:t[3]||(t[3]=M(s=>i.submit(),["prevent"])),class:"p-6 dark:bg-gray-800 dark:text-gray-400"},[u("div",V,[u("div",U,[o(p,{for:"title",value:"Schedule Title",required:!1}),o(g,{modelValue:r.form.title,"onUpdate:modelValue":t[0]||(t[0]=s=>r.form.title=s),type:"text",id:"title",name:"title",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),o(c,{error:e.$page.props.errors.title},null,8,["error"])]),u("div",F,[o(p,{for:"end_date",value:"Date Day-Month-Year",required:!1}),o(_,{style:{},class:D([e.$page.props.errors.date?"border-custom":"","custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400"]),name:"date","disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,value:r.form.date,"onUpdate:value":t[1]||(t[1]=s=>r.form.date=s),format:r.customDateFormat},null,8,["class","disabled-date","disabled-time","value","format"]),o(c,{error:e.$page.props.errors.date},null,8,["error"])])]),o(v,{loading:r.loading,type:"submit",cssClass:"w-full",theme:"primary"},{default:n(()=>[h(m(r.update?"Update":"Create"),1)]),_:1},8,["loading"]),r.update?(f(),Y("button",{key:0,onClick:t[2]||(t[2]=s=>i.destroy()),type:"button",class:"text-red-500 mt-2 border border-red-400 hover:bg-red-200 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2"},m(e.__("Delete")),1)):S("",!0)],32)]),_:1},8,["visible","title","onOk"])}const N=k(w,[["render",T],["__scopeId","data-v-cd71d396"]]);export{N as default};
