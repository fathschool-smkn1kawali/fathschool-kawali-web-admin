import{x as k,$ as L,M as K,f as N,l as R,R as T,a1 as z,a2 as F,a0 as V,Q as O,_ as G,u as q,o as H,c as Q,w as C,b as w,t as D,a as _,g as W,r as y}from"./app.0a62d3b4.js";var $=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],J=function(e){return $.map(function(n){return n.toLowerCase()}).indexOf(e.toLowerCase())!==-1},X=function(e,n,t){Object.keys(n).filter(J).forEach(function(r){var o=n[r];typeof o=="function"&&(r==="onInit"?o(e,t):t.on(r.substring(2),function(a){return o(a,t)}))})},Y=function(e,n,t,r){var o=e.modelEvents?e.modelEvents:null,a=Array.isArray(o)?o.join(" "):o;k(r,function(d,l){t&&typeof d=="string"&&d!==l&&d!==t.getContent({format:e.outputFormat})&&t.setContent(d)}),t.on(a||"change input undo redo",function(){n.emit("update:modelValue",t.getContent({format:e.outputFormat}))})},Z=function(e,n,t,r,o,a){r.setContent(a()),t.attrs["onUpdate:modelValue"]&&Y(n,t,r,o),X(e,t.attrs,r)},M=0,P=function(e){var n=Date.now(),t=Math.floor(Math.random()*1e9);return M++,e+"_"+t+M+String(n)},ee=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},B=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},ne=function(e,n){return B(e).concat(B(n))},te=function(e){return e==null},j=function(){return{listeners:[],scriptId:P("tiny-script"),scriptLoaded:!1}},oe=function(){var e=j(),n=function(o,a,d,l){var i=a.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=o,i.src=d;var m=function(){i.removeEventListener("load",m),l()};i.addEventListener("load",m),a.head&&a.head.appendChild(i)},t=function(o,a,d){e.scriptLoaded?d():(e.listeners.push(d),o.getElementById(e.scriptId)||n(e.scriptId,o,a,function(){e.listeners.forEach(function(l){return l()}),e.scriptLoaded=!0}))},r=function(){e=j()};return{load:t,reinitialize:r}},ie=oe(),re=function(){return typeof window<"u"?window:global},v=function(){var e=re();return e&&e.tinymce?e.tinymce:null},ae={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},c=globalThis&&globalThis.__assign||function(){return c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)},le=function(e,n,t,r){return e(r||"div",{id:n,ref:t})},ue=function(e,n,t){return e("textarea",{id:n,visibility:"hidden",ref:t})},E={selector:void 0,target:void 0},se=L({props:ae,setup:function(e,n){var t=e.init?c(c({},e.init),E):c({},E),r=K(e),o=r.disabled,a=r.modelValue,d=r.tagName,l=N(null),i=null,m=e.id||P("tiny-vue"),b=e.init&&e.init.inline||e.inline,f=!!n.attrs["onUpdate:modelValue"],S=!0,U=e.initialValue?e.initialValue:"",h="",A=function(u){return f?function(){return a!=null&&a.value?a.value:""}:function(){return u?U:h}},p=function(){var u=A(S),s=c(c({},t),{readonly:e.disabled,target:l.value,plugins:ne(t.plugins,e.plugins),toolbar:e.toolbar||t.toolbar,inline:b,license_key:e.licenseKey,setup:function(g){i=g,g.on("init",function(x){return Z(x,e,n,g,a,u)}),typeof t.setup=="function"&&t.setup(g)}});ee(l.value)&&(l.value.style.visibility=""),v().init(s),S=!1};k(o,function(u){var s;i!==null&&(typeof((s=i.mode)===null||s===void 0?void 0:s.set)=="function"?i.mode.set(u?"readonly":"design"):i.setMode(u?"readonly":"design"))}),k(d,function(u){var s;f||(h=i.getContent()),(s=v())===null||s===void 0||s.remove(i),O(function(){return p()})}),R(function(){if(v()!==null)p();else if(l.value&&l.value.ownerDocument){var u=e.cloudChannel?e.cloudChannel:"7",s=e.apiKey?e.apiKey:"no-api-key",g=te(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(s,"/tinymce/").concat(u,"/tinymce.min.js"):e.tinymceScriptSrc;ie.load(l.value.ownerDocument,g,p)}}),T(function(){v()!==null&&v().remove(i)}),b||(z(function(){S||p()}),F(function(){var u;f||(h=i.getContent()),(u=v())===null||u===void 0||u.remove(i)}));var I=function(u){var s;h=i.getContent(),(s=v())===null||s===void 0||s.remove(i),t=c(c(c({},t),u),E),O(function(){return p()})};return n.expose({rerender:I,getEditor:function(){return i}}),function(){return b?le(V,m,l,e.tagName):ue(V,m,l)}}});const de={props:{comment:Object,reply:Boolean},components:{Editor:se},data(){return{visible:!1,form:q({comment:this.comment.comment,_method:"PUT"})}},watch:{comment:{deep:!0,handler(e,n){this.form.comment=e.comment}}},methods:{showModal(){this.visible=!0},handleOk(e){this.visible=!1},submit(){this.reply?this.form.post(this.route("reply.update",this.comment.id),{preserveScroll:!0,onSuccess:e=>{this.visible=!1}}):this.form.post(this.route("comment.update",this.comment.id),{preserveScroll:!0,onSuccess:e=>{this.visible=!1}})}}},ce={class:"w-full dark:bg-gray-800 dark:border-gray-700 rounded-lg"},fe={class:"mb-1"};function me(e,n,t,r,o,a){const d=y("global-label"),l=y("editor"),i=y("input-error"),m=y("global-button"),b=y("a-modal");return H(),Q(b,{width:"500px",visible:o.visible,"onUpdate:visible":n[2]||(n[2]=f=>o.visible=f),"wrap-style":{overflow:"auto"},onOk:a.handleOk},{title:C(()=>[w("div",{ref:"editmodal",class:"width-100"},D(e.__("Edit Comment")),513)]),footer:C(()=>[_(m,{loading:e.loading,type:"button",onClick:n[1]||(n[1]=f=>a.submit()),class:"text-white bg-blue-500 dark:bg-blue-500 hover:bg-blue-500 active:bg-blue-600 dark:active:bg-blue-600 focus:border-blue-600 dark:focus:border-blue-600 focus:ring focus:ring-blue-300 mr-2 mb-2 dark:focus:ring-blue-300"},{default:C(()=>[W(D(e.__("Edit")),1)]),_:1},8,["loading"])]),default:C(()=>[w("div",ce,[w("div",fe,[_(d,{for:"comment",value:"Comment",required:!1}),_(l,{placeholder:e.__("Description"),modelValue:o.form.comment,"onUpdate:modelValue":n[0]||(n[0]=f=>o.form.comment=f),"api-key":"kjn96qwsicri2i9dtz5ilb5saih3za74f54lkjx2uw7xe1vm",init:{menubar:!1,plugins:"lists link image emoticons",toolbar:"styleselect | bold italic forecolor backcolor  | alignleft aligncenter alignright alignjustify | bullist numlist | link image emoticons"}},null,8,["placeholder","modelValue"]),_(i,{error:e.$page.props.errors.comment},null,8,["error"])])])]),_:1},8,["visible","onOk"])}const ge=G(de,[["render",me]]);export{ge as default};
