import{_ as E}from"./AppLayout.e446c98c.js";import{s as L}from"./multiselect.0e5fdc61.js";/* empty css                */import{o as i,e as n,b as r,_ as G,N as H,I as w,u as R,c as h,w as k,a as l,t as m,g as V,n as _,C as J,F as f,j as p,i as x,r as a,s as K,D as Q}from"./app.0fe294dc.js";import{r as W}from"./PlusCircleIcon.92b99d95.js";import{r as X}from"./MinusCircleIcon.b728231d.js";import{a as Z,r as $}from"./CheckCircleIcon.0b1b48c7.js";import{r as ee}from"./TrashIcon.fe35b37b.js";import{r as re}from"./TopBarMenu.658c6f16.js";import"./WarningToast.9e91d17d.js";import"./NavLink.f87d79c3.js";import"./shepherd.esm.1647f5c6.js";import"./UserIcon.56a47257.js";import"./Bars3Icon.8ccbdb06.js";import"./XMarkIcon.b073216c.js";function te(t,o){return i(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})])}const oe={components:{AppLayout:E,Multiselect:L,PlusCircleIcon:W,MinusCircleIcon:X,CheckCircleIcon:Z,TrashIcon:ee,AcademicCapIcon:re,CircleStackIcon:te,BookOpenIcon:$,NothingFound:H},props:{courses:Object,nationalities:Array,teacher:Object,subjects:Array,departments:Object},data(){return{wizard:1,date_of_birth_value:this.teacher&&this.teacher.date_of_birth?w(this.teacher.date_of_birth):null,passing_year_value:this.teacher&&this.teacher.profile?w(this.teacher.profile.passing_year):null,validate_errors:{},document_size:[1],form:R({name:this.teacher?this.teacher.name:"",email:this.teacher?this.teacher.email:"",user_type:"Teacher",phone:this.teacher?this.teacher.phone:"",address:this.teacher?this.teacher.address:"",gender:this.teacher?this.teacher.gender:"",department:this.teacher?this.teacher.department_id:"",date_of_birth:this.teacher?this.teacher.date_of_birth:"",documents:[],document_titles:[],highest_degree_name:this.teacher&&this.teacher.profile?this.teacher.profile.highest_degree_name:null,institute_name:this.teacher&&this.teacher.profile?this.teacher.profile.institute_name:null,passing_year:this.teacher&&this.teacher.profile?this.teacher.profile.passing_year:null,religion:this.teacher&&this.teacher.profile?this.teacher.profile.religion:null,nationality:this.teacher&&this.teacher.profile?this.teacher.profile.nationality:null,subjects:this.subjects?this.subjects:[],_method:this.teacher?"PUT":"POST"})}},watch:{date_of_birth_value:{deep:!0,handler(t,o){t?this.form.date_of_birth=w(t).format("YYYY-MM-DD"):this.form.date_of_birth=null}},passing_year_value:{deep:!0,handler(t,o){t?this.form.passing_year=w(t).format("YYYY"):this.form.passing_year=null}},wizard:{deep:!0,handler(t,o){this.validate_errors={}}}},methods:{removeDoc(t){confirm("Are your sure ??")&&this.$inertia.post(this.route("admin.doc.destroy",t),{preserveScroll:!0})},picDocs(t){this.form.documents.push(t.target.files[0])},submit(){this.date_of_birth_value?this.form.date_of_birth=w(this.date_of_birth_value).format("DD-MM-YYYY"):this.form.date_of_birth=null,this.teacher?this.form.post(this.route("users.update",this.teacher.id),{preserveScroll:!0}):this.form.post(this.route("users.store"),{preserveScroll:!0,onSuccess:()=>{}})},wizardChange(t){t=="next"?this.validationPart(this.wizard)||(this.validate_errors={},this.wizard=this.wizard+1):this.wizard=this.wizard-1},isValidEmail(t){return/^[^@]+@\w+(\.\w+)+\w$/.test(t)},addDocument(t){t==0?this.document_size.push(1):(this.document_size.splice(t,1),this.form.document_titles.splice(t,1),this.form.documents.splice(t,1))},validationPart(t){let o=!1;return t==1?(this.form.name||(Object.assign(this.validate_errors,{name:"The name field is required"}),o=!0),this.form.email||(Object.assign(this.validate_errors,{email:"The email field is required"}),o=!0),this.isValidEmail(this.form.email)||(Object.assign(this.validate_errors,{email:"The email is invalid ."}),o=!0),this.form.date_of_birth||(Object.assign(this.validate_errors,{date_of_birth:"The date of birth field is required ."}),o=!0)):t==2?(this.form.highest_degree_name||(Object.assign(this.validate_errors,{highest_degree_name:"The highest degree name field is required ."}),o=!0),this.form.institute_name||(Object.assign(this.validate_errors,{institute_name:"The institute name field is required ."}),o=!0),this.form.passing_year||(Object.assign(this.validate_errors,{passing_year:"The passing year field is required ."}),o=!0)):(this.selected_courses||(Object.assign(this.validate_errors,{course:"The course field is required ."}),o=!0),this.form.subjects||(Object.assign(this.validate_errors,{subjects:"The subjects field is required ."}),o=!0)),o}}},le={class:"mx-auto pb-12"},se={class:"rounded-lg flex justify-between items-center mb-4 py-4 px-6 text-lg font-semibold rtl:text-right text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800"},ie={class:"dark:text-gray-400"},ae={class:"w-full lg:w-1/2 mx-auto"},ne={class:"flex items-center"},de={class:"absolute whitespace-nowrap -top-3 -ml-0.5 w-full text-center mt-16 text-xs font-bold"},ue={class:"absolute whitespace-nowrap -top-3 -ml-8 w-full text-center mt-16 text-xs font-bold"},ce={class:"absolute whitespace-nowrap -ml-10 -top-3 w-full text-center mt-16 text-xs font-bold"},me={class:"w-full lg:w-1/2 mx-auto rounded-lg mt-12"},he={class:"grid sm:grid-cols-1 md:grid-cols-1 sm:gap-1 md:gap-4"},_e={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ge={class:"mb-3"},pe={class:"mb-3"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-1"},ve={class:"mb-3"},ye={class:"mb-1"},ke={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},we={class:"mb-3"},xe={class:"mb-1"},Ce={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},Ve={class:"mb-3"},ze={class:"mb-3"},je={class:"mb-3"},De={class:"w-full bg-white rounded-lg border border-white p-4 dark:bg-gray-800 dark:border-gray-700"},Ie={class:"mb-3"},qe={class:"mb-3"},Te={class:"mb-3"},Se={class:"mb-3"},Ne={class:"w-full"},Oe={class:"w-full"},Ue=["id"],Be=["onClick"],Ye={key:0,class:"flex flex-wrap gap-3 p-1"},Pe=["href"],Ae=["onClick"],Me={class:"ml-4"},Fe=r("div",{class:"mt-2"},null,-1),Ee={key:1,class:"w-full bg-white rounded-lg border border-white p-6 dark:bg-gray-800 dark:border-gray-700"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge={class:"font-bold capitalize text-base dark:text-gray-400"},He={class:"grid grid-cols-2 gap-1"},Re=["for"],Je=["id","value"],Ke=["for"],Qe={key:2,class:"p-4 text-center"},We={class:"flex justify-end gap-2"};function Xe(t,o,b,Ze,e,v){const I=a("BreadcrumbLink"),q=a("Breadcrumb"),C=a("global-button"),T=a("Link"),z=a("CheckCircleIcon"),S=a("CircleStackIcon"),N=a("AcademicCapIcon"),O=a("BookOpenIcon"),u=a("global-label"),g=a("global-input"),c=a("input-error"),j=a("a-date-picker"),U=a("global-textarea"),D=a("Multiselect"),B=a("PlusCircleIcon"),Y=a("MinusCircleIcon"),P=a("trash-icon"),A=a("NothingFound"),M=a("AppLayout");return i(),h(M,{title:t.__("Teacher Create")},{default:k(()=>[l(q,null,{default:k(()=>[l(I,{title:t.__("Teacher Create")},null,8,["title"])]),_:1}),r("div",le,[r("div",se,[r("div",ie,m(t.__("Teacher Create")),1),l(T,{"preserve-scroll":"",href:t.route("teachers.index")},{default:k(()=>[l(C,{loading:!1,type:"button",theme:"primary"},{default:k(()=>[V(m(t.__("All Teachers")),1)]),_:1})]),_:1},8,["href"])]),r("div",ae,[r("div",ne,[r("div",{class:_([e.wizard>1?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[r("div",{class:_([e.wizard>1?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>1?(i(),h(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(i(),h(S,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),r("div",de,m(t.__("Basic Information")),1)],2)],2),r("div",{class:_([e.wizard>1?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),r("div",{class:_([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[r("div",{class:_([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[e.wizard>2?(i(),h(z,{key:0,width:"100%",height:"100%",class:"w-full h-full"})):(i(),h(N,{key:1,width:"100%",height:"100%",class:"w-full h-full"})),r("div",ue,m(t.__("Academic Information")),1)],2)],2),r("div",{class:_([e.wizard>2?"border-blue-600":"border-white","flex-auto border-t-4 transition duration-500 ease-in-out"])},null,2),r("div",{class:_([e.wizard>2?"text-blue-600 ":"text-gray-500","flex items-center relative"])},[r("div",{class:_([e.wizard>2?"border-blue-600":"border-white","rounded-full transition duration-500 ease-in-out h-11 w-11 py-2.5 border-2"])},[l(O,{width:"100%",height:"100%",class:"w-full h-full"}),r("div",ce,m(t.__("Course & Subject")),1)],2)],2)])]),r("div",me,[r("form",{class:"mt-2",onSubmit:o[16]||(o[16]=J(s=>v.submit(),["prevent"])),enctype:"multipart/form-data"},[r("div",he,[e.wizard==1?(i(),n(f,{key:0},[r("div",_e,[r("div",fe,[r("div",ge,[l(u,{for:"name",value:"Name",required:!0}),l(g,{type:"text",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.name=s),id:"name",name:"name",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Enter Name"),error:e.validate_errors.name},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.name},null,8,["error"])]),r("div",pe,[l(u,{for:"email",value:"Email",required:!0}),l(g,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.email=s),id:"email",name:"email",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Enter Email"),error:e.validate_errors.email},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.email},null,8,["error"])])]),r("div",be,[r("div",ve,[l(u,{for:"email",value:"Date of Birth",required:!0}),l(j,{format:t.getDateTimeFormat(),class:"ant-datepicker-custom",value:e.date_of_birth_value,"onUpdate:value":o[2]||(o[2]=s=>e.date_of_birth_value=s)},null,8,["format","value"]),l(c,{error:e.validate_errors.date_of_birth},null,8,["error"])]),r("div",ye,[l(u,{for:"phone",value:"Phone",required:!1}),l(g,{type:"number",modelValue:e.form.phone,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.phone=s),id:"phone",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Phone"),error:e.validate_errors.phone},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.phone},null,8,["error"])])])]),r("div",ke,[r("div",we,[l(u,{for:"gender",value:"Gender",required:!1}),l(g,{type:"text",modelValue:e.form.gender,"onUpdate:modelValue":o[4]||(o[4]=s=>e.form.gender=s),id:"gender",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Gender"),error:e.validate_errors.gender},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.gender},null,8,["error"])]),r("div",xe,[l(u,{for:"address",value:"Present Address",required:!1}),l(U,{modelValue:e.form.address,"onUpdate:modelValue":o[5]||(o[5]=s=>e.form.address=s),id:"address",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Present Address"),error:e.validate_errors.address},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.address},null,8,["error"])])])],64)):p("",!0),e.wizard==2?(i(),n(f,{key:1},[r("div",Ce,[r("div",Ve,[l(u,{for:"highest_degree_name",value:"Highest Degree Name",required:!0}),l(g,{type:"text",modelValue:e.form.highest_degree_name,"onUpdate:modelValue":o[6]||(o[6]=s=>e.form.highest_degree_name=s),id:"highest_degree_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Highest Degree Name"),error:e.validate_errors.highest_degree_name},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.highest_degree_name},null,8,["error"])]),r("div",ze,[l(u,{for:"institute_name",value:"Institute Name",required:!0}),l(g,{type:"text",modelValue:e.form.institute_name,"onUpdate:modelValue":o[7]||(o[7]=s=>e.form.institute_name=s),id:"institute_name",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.__("Institute Name"),error:e.validate_errors.institute_name},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.institute_name},null,8,["error"])]),r("div",je,[l(u,{for:"passing_year",value:"Passing Year",required:!0}),l(j,{onChange:t.getPassingYear,placeholder:"Passing Year",class:"ant-datepicker-custom",format:t.getDateTimeFormat(),value:e.passing_year_value,"onUpdate:value":o[8]||(o[8]=s=>e.passing_year_value=s),picker:"year"},null,8,["onChange","format","value"]),l(c,{error:e.validate_errors.passing_year},null,8,["error"])])]),r("div",De,[r("div",Ie,[l(u,{for:"department",value:"Department",required:!1}),l(D,{id:"department",modelValue:e.form.department,"onUpdate:modelValue":o[9]||(o[9]=s=>e.form.department=s),"close-on-select":!0,"can-clear":!1,searchable:!0,"create-option":!1,placeholder:t.__("Select Department"),options:b.departments.map(s=>({value:s.id,label:s.name})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),l(c,{error:e.validate_errors.department},null,8,["error"])]),r("div",qe,[l(u,{for:"religion",value:"Religion",required:!1}),l(g,{type:"text",modelValue:e.form.religion,"onUpdate:modelValue":o[10]||(o[10]=s=>e.form.religion=s),id:"religion",class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:t.Religion,error:e.validate_errors.religion},null,8,["modelValue","placeholder","error"]),l(c,{error:e.validate_errors.religion},null,8,["error"])]),r("div",Te,[l(u,{for:"nationality",value:"Nationality",required:!1}),l(D,{id:"nationality","close-on-select":!0,"can-clear":!1,searchable:!0,modelValue:e.form.nationality,"onUpdate:modelValue":o[11]||(o[11]=s=>e.form.nationality=s),"create-option":!1,placeholder:t.__("Select Nationality"),options:b.nationalities.map(s=>({label:s,value:s})),autocomplete:"off"},null,8,["modelValue","placeholder","options"]),l(c,{error:e.validate_errors.nationality},null,8,["error"])]),r("div",Se,[l(u,{for:"document",value:"Document",required:!1}),(i(!0),n(f,null,x(e.document_size,(s,d)=>(i(),n("div",{key:d,class:"flex items-center gap-1 mb-2"},[r("div",Ne,[l(g,{type:"text",modelValue:e.form.document_titles[d],"onUpdate:modelValue":y=>e.form.document_titles[d]=y,id:"title"+d,class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:"Document Title",error:e.validate_errors.note},null,8,["modelValue","onUpdate:modelValue","id","error"])]),r("div",Oe,[r("input",{type:"file",onChange:o[12]||(o[12]=(...y)=>v.picDocs&&v.picDocs(...y)),class:_([e.validate_errors.document?"border-red-500 dark:border-red-500":"","pl-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"]),id:"document"+d,name:"document",accept:"image/*, pdf/*, doc/*",placeholder:""},null,42,Ue)]),r("div",{onClick:y=>v.addDocument(d)},[l(C,{loading:t.loading,type:"button",cssClass:"font-bold",theme:d==0?"primary":"danger"},{default:k(()=>[d==0?(i(),h(B,{key:0,class:"w-6 h-6"})):(i(),h(Y,{key:1,class:"w-6 h-6"}))]),_:2},1032,["loading","theme"])],8,Be)]))),128)),b.teacher&&b.teacher.documents.length>0?(i(),n("div",Ye,[(i(!0),n(f,null,x(b.teacher.documents,(s,d)=>(i(),n("div",{class:"relative mt-2",key:s.id},[r("a",{href:s.file_url_format,download:""},m(t.__("Download Document"))+" ("+m(d+1)+") ",9,Pe),r("button",{onClick:y=>v.removeDoc(s.id),type:"button",class:"absolute -top-4 bg-red-500 rounded-full -right-3"},[l(P,{class:"w-6 h-6 text-white p-0.5"})],8,Ae)]))),128))])):p("",!0),l(c,{error:e.validate_errors.documents},null,8,["error"])])])],64)):p("",!0)]),e.wizard==3?(i(),n(f,{key:0},[t.$page.props.errors?(i(),n(f,{key:0},[(i(!0),n(f,null,x(t.$page.props.errors,(s,d)=>(i(),n("div",{key:d,class:"md:w-1/2 mx-auto p-4 mb-1 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-gray-800 dark:text-red-400",role:"alert"},[r("div",Me,m(s),1)]))),128)),Fe],64)):p("",!0),b.courses.length>0?(i(),n("div",Ee,[l(u,{for:"course",value:"Select Subject",required:!0}),r("div",Le,[(i(!0),n(f,null,x(b.courses,s=>(i(),n("div",{key:s.id,class:"bg-white dark:bg-gray-800 border dark:border-gray-500 p-4 rounded"},[r("div",Ge,m(s.name),1),r("div",He,[(i(!0),n(f,null,x(s.subjects,(d,y)=>(i(),n("label",{for:"sub"+d.slug,key:y,class:"flex items-center pl-4 mt-1 border border-white rounded dark:border-gray-700"},[K(r("input",{"onUpdate:modelValue":o[13]||(o[13]=F=>e.form.subjects=F),id:"sub"+d.slug,type:"checkbox",value:d.id,name:"sub",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,Je),[[Q,e.form.subjects]]),r("label",{for:"sub"+d.slug,class:"w-full py-2 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"},m(d.name),9,Ke)],8,Re))),128))])]))),128)),l(c,{error:e.validate_errors.subjects},null,8,["error"])])])):(i(),n("div",Qe,[l(A,{asShow:"div"})]))],64)):p("",!0),r("div",We,[e.wizard>1?(i(),n("button",{key:0,onClick:o[14]||(o[14]=s=>v.wizardChange("prev")),class:"text-pink-500 border border-pink-500 hover:bg-pink-500 hover:text-white active:bg-pink-600 font-bold w-1/4 mt-3 py-2 rounded outline-none focus:outline-none ease-linear transition-all duration-150",type:"button"},m(t.__("Back")),1)):p("",!0),e.wizard<3?(i(),h(C,{key:1,onClick:o[15]||(o[15]=s=>v.wizardChange("next")),loading:!1,type:"button",cssClass:"w-1/4 mt-3 py-1 font-bold",theme:"primary"},{default:k(()=>[V(m(t.__("Next")),1)]),_:1})):p("",!0),e.wizard==3?(i(),h(C,{key:2,loading:e.form.processing,type:"submit",cssClass:"w-1/4 mt-3 font-bold",theme:"primary"},{default:k(()=>[V(m(t.__("Save")),1)]),_:1},8,["loading"])):p("",!0)])],32)])])]),_:1},8,["title"])}const _r=G(oe,[["render",Xe]]);export{_r as default};
