import{_ as H}from"./AppLayout.e446c98c.js";import{_ as R,ai as G,aj as J,u as K,I as f,o as d,e as u,a as t,w as m,g as h,t as c,b as o,F as _,i as k,s as S,a9 as C,n as j,r as i}from"./app.0fe294dc.js";import{P as Q}from"./Pagination.285ecdee.js";import W from"./SingleAssignment.405baad3.js";import X from"./Filter.26737d06.js";import{r as Z}from"./PencilSquareIcon.78c3e2b0.js";import{r as $}from"./EyeIcon.5183fbb5.js";import{r as ee}from"./TrashIcon.fe35b37b.js";import"./TopBarMenu.658c6f16.js";import"./CheckCircleIcon.0b1b48c7.js";import"./shepherd.esm.1647f5c6.js";import"./XMarkIcon.b073216c.js";import"./WarningToast.9e91d17d.js";import"./NavLink.f87d79c3.js";import"./PlusCircleIcon.92b99d95.js";import"./UserIcon.56a47257.js";import"./Bars3Icon.8ccbdb06.js";import"./HashtagIcon.223e37b8.js";import"./multiselect.0e5fdc61.js";/* empty css                */const te={props:{assignments:Object,subjects:Object,classes:Object,errors:Object,request_data:Object},components:{AppLayout:H,FilterComponent:X,PencilSquareIcon:Z,SingleAssignment:W,EyeIcon:$,TrashIcon:ee,Pagination:Q,"a-progress":G,"a-tooltip":J},data(){var e,r,l;return{loading:!1,customDateFormat:"DD-MM-YYYY",visible:!1,update:!1,form:{id:"",teacher:this.$page.props.auth.id,subject:"",class:"",title:"",date:"",date2:"",mark:"",description:"",_method:null},filter:K({keyword:(e=this.request_data.keyword)!=null?e:"",status:(r=this.request_data.status)!=null?r:"",subject_id:(l=this.request_data.subject_id)!=null?l:""})}},mounted(){this.route().params.id&&this.assignments.data.forEach(e=>{e.id==this.route().params.id&&this.edit(e)})},watch:{update:{deep:!0,handler(e,r){this.visible==!1&&(this.update=!1)}}},methods:{showModal(){this.visible=!0},handleOk(){this.route().params.id&&this.$inertia.get(route("assignment.index")),this.visible=!1},filterDataSet(e){var r,l,y;this.filter.keyword=(r=e.keyword)!=null?r:"",this.filter.status=(l=e.status)!=null?l:"",this.filter.subject_id=(y=e.subject_id)!=null?y:"",this.filterData()},filterData(){this.filter.get(this.route("assignment.index"))},submit(){this.loading=!0;let e=f(this.form.date[0]).format("YYYY-MM-DD"),r=f(this.form.date[1]).format("YYYY-MM-DD");this.form.date2=[e,r],this.update?this.$inertia.post(this.route("assignment.update",this.form.id),this.form,{onSuccess:l=>{this.reset()},onFinish:l=>{this.loading=!1}}):this.$inertia.post(this.route("assignment.store"),this.form,{onSuccess:l=>{this.reset()},onFinish:l=>{this.loading=!1}})},edit(e){this.form.id=e.id,this.form.teacher=e.user_id,this.form.subject=e.subject_id,this.form.class=e.course_id,this.form.title=e.title,this.form.mark=e.mark,this.form.description=e.description,this.form._method="PUT",this.form.date=[f(e.start_date,this.customDateFormat),f(e.end_date,this.customDateFormat)],this.form.date2=[e.start_date,e.end_date],this.update=!0,this.visible=!0},destroy(e){if(confirm("Are you sure ?"))this.$inertia.delete(this.route("assignment.destroy",e));else return!1},reset(){this.$inertia.get(route("assignment.index"))}}},re={class:"my-2"},se={class:"font-bold text-xl py-6 dark:text-gray-400"},oe={class:"w-full grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4"},ie={class:"flex gap-1 items-center justify-center bg-black opacity-0 group-hover:opacity-100 duration-300 absolute z-50 left-0 top-0 bottom-0 right-0 rounded-md"},ae=["id"],le=["onClick","id"],ne=["onClick","id"],de={key:1,class:"col-span-4 text-center"},ue={class:"flex justify-center"},me={class:"flex gap-2"},ce={class:"dark:bg-gray-800 rounded-lg"},pe={selected:"",disabled:"",value:""},ge=["value"],be={class:"mt-3"},_e={selected:"",disabled:"",value:""},fe=["value"],he={class:"mt-3 mb-1"},ke={class:"mt-3 mb-1"},ye={class:"mt-3 mb-1"},ve={class:"mt-3 mb-1"};function je(e,r,l,y,a,p){const A=i("Head"),V=i("BreadcrumbLink"),q=i("Breadcrumb"),v=i("global-button"),F=i("page-header"),Y=i("filter-component"),L=i("single-assignment"),x=i("eye-icon"),M=i("Link"),O=i("PencilSquareIcon"),I=i("trash-icon"),U=i("NothingFound"),B=i("pagination"),g=i("global-label"),b=i("input-error"),w=i("global-input"),P=i("a-range-picker"),T=i("global-textarea"),N=i("a-modal"),z=i("AppLayout");return d(),u(_,null,[t(A,{title:e.__("Assignment List")},null,8,["title"]),t(z,null,{default:m(()=>[t(q,null,{default:m(()=>[t(V,{title:e.__("Assignment List")},null,8,["title"])]),_:1}),t(F,null,{content:m(()=>[t(v,{loading:!1,type:"button",onClick:r[0]||(r[0]=s=>p.showModal()),theme:"primary"},{default:m(()=>[h(c(e.__("Create New Assignment")),1)]),_:1})]),default:m(()=>[h(c(e.__("Assignment List"))+" ",1)]),_:1}),o("div",re,[t(Y,{subjects:l.subjects,filter_data:l.request_data,loading:a.filter.processing,onFilterDataSet:p.filterDataSet},null,8,["subjects","filter_data","loading","onFilterDataSet"]),l.assignments.data.length!=0?(d(!0),u(_,{key:0},k(l.assignments.data,(s,D)=>(d(),u(_,{key:D},[o("div",se,c(D),1),o("div",oe,[(d(!0),u(_,null,k(s,n=>(d(),u("div",{class:"bg-white dark:bg-gray-800 dark:text-gray-400 rounded-lg relative group",key:n.id},[t(L,{assignment:n},null,8,["assignment"]),o("div",ie,[t(M,{"preserve-scroll":"",href:e.route("assignment.details",n.slug)},{default:m(()=>[o("button",{type:"button",class:"bg-white relative rounded-full p-1.5",id:n?"viewAssignment"+n.id:""},[t(x,{class:"w-6 h-6 z-60 text-blue-500"})],8,ae)]),_:2},1032,["href"]),o("button",{onClick:E=>p.edit(n),type:"button",class:"bg-white relative rounded-full p-1.5",id:n?"editAssignment"+n.id:""},[t(O,{class:"w-6 h-6 z-60 text-purple-500"})],8,le),o("button",{onClick:E=>p.destroy(n.id),type:"button",class:"bg-white relative rounded-full p-1.5",id:n?"deleteAssignment"+n.id:""},[t(I,{class:"w-6 h-6 z-60 text-red-500"})],8,ne)])]))),128))])],64))),128)):(d(),u("div",de,[t(U,{cssClass:"text-center",asShow:"div"})])),o("div",ue,[t(B,{class:"mt-6",links:l.assignments.links},null,8,["links"])])]),t(N,{visible:a.visible,"onUpdate:visible":r[7]||(r[7]=s=>a.visible=s),width:"400px",title:a.update?e.__("Update Assignment"):e.__("Assignment Create"),onOk:p.handleOk},{footer:m(()=>[o("div",me,[t(v,{loading:a.loading,type:"button",onClick:p.submit,theme:"primary"},{default:m(()=>[h(c(e.__("Save")),1)]),_:1},8,["loading","onClick"]),t(v,{loading:!1,type:"button",onClick:p.handleOk,theme:"outline-danger"},{default:m(()=>[h(c(e.__("Cancel")),1)]),_:1},8,["onClick"])])]),default:m(()=>[o("form",ce,[o("div",null,[t(g,{for:"class",value:"Select Course",required:!0}),S(o("select",{"onUpdate:modelValue":r[1]||(r[1]=s=>a.form.class=s),id:"class",class:j([e.$page.props.errors.class?"border-red-500 dark:border-red-500":"","bg-gray-50 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[o("option",pe,c(e.__("Select Course")),1),(d(!0),u(_,null,k(l.classes,s=>(d(),u("option",{key:s,value:s.id},c(s.name),9,ge))),128))],2),[[C,a.form.class]]),t(b,{error:e.$page.props.errors.class},null,8,["error"])]),o("div",be,[t(g,{for:"subject",value:"Select Subject",required:!0}),S(o("select",{"onUpdate:modelValue":r[2]||(r[2]=s=>a.form.subject=s),id:"subject",class:j([e.$page.props.errors.subject?"border-red-500 dark:border-red-500":"","bg-gray-50 rounded-lg border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"])},[o("option",_e,c(e.__("Select Subject")),1),(d(!0),u(_,null,k(l.subjects,s=>(d(),u("option",{key:s,value:s.id},c(s.name),9,fe))),128))],2),[[C,a.form.subject]]),t(b,{error:e.$page.props.errors.subject},null,8,["error"])]),o("div",he,[t(g,{for:"title",value:"Title",required:!0}),t(w,{type:"text",modelValue:a.form.title,"onUpdate:modelValue":r[3]||(r[3]=s=>a.form.title=s),id:"title",name:"title",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Assignment Title"),error:e.$page.props.errors.title},null,8,["modelValue","placeholder","error"]),t(b,{error:e.$page.props.errors.title},null,8,["error"])]),o("div",ke,[t(g,{for:"date",value:"Date",required:!0}),t(P,{class:j([e.$page.props.errors.date?"border-custom":"","custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400"]),name:"date","disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,value:a.form.date,"onUpdate:value":r[4]||(r[4]=s=>a.form.date=s),format:a.customDateFormat},null,8,["class","disabled-date","disabled-time","value","format"]),t(b,{error:e.$page.props.errors.date},null,8,["error"])]),o("div",ye,[t(g,{for:"mark",value:"Mark",required:!0}),t(w,{type:"number",modelValue:a.form.mark,"onUpdate:modelValue":r[5]||(r[5]=s=>a.form.mark=s),id:"mark",name:"mark",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Assignment mark"),error:e.$page.props.errors.mark},null,8,["modelValue","placeholder","error"]),t(b,{error:e.$page.props.errors.mark},null,8,["error"])]),o("div",ve,[t(g,{for:"description",value:"Description",required:!1}),t(T,{modelValue:a.form.description,"onUpdate:modelValue":r[6]||(r[6]=s=>a.form.description=s),id:"description",name:"description",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Description"),error:e.$page.props.errors.description},null,8,["modelValue","placeholder","error"]),t(b,{error:e.$page.props.errors.description},null,8,["error"])])])]),_:1},8,["visible","title","onOk"])]),_:1})],64)}const Ee=R(te,[["render",je],["__scopeId","data-v-491209ee"]]);export{Ee as default};
