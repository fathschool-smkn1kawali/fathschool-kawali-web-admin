import{_ as C}from"./AppLayout.92e3dc20.js";import{_ as V,I as k,o as F,c as B,w as g,a as o,b as s,t as x,g as D,C as S,n as w,s as L,a6 as U,r as d}from"./app.e9253fa3.js";import"./TopBarMenu.2596137d.js";import"./CheckCircleIcon.0e5b0fb8.js";import"./shepherd.esm.74749cbe.js";import"./XMarkIcon.0053782e.js";import"./WarningToast.774e905f.js";import"./NavLink.0361e60b.js";import"./PlusCircleIcon.4f4dbd04.js";import"./UserIcon.2a40eb34.js";import"./Bars3Icon.f96b062a.js";const E={props:{courses:Object,exam:Object,update:Boolean},components:{AppLayout:C},data(){var e,r,m,v,t,n,c,b,u,h,i,p,l,f,_,y,a;return{loading:!1,customDateFormat:"DD-MM-YYYY",options:[],options2:[],options3:[],text:this.exam?"Update Exam":"Create Exam",date:[(e=this.exam)!=null&&e.start_date?k((r=this.exam)==null?void 0:r.start_date,this.customDateFormat):"",(m=this.exam)!=null&&m.end_date?k((v=this.exam)==null?void 0:v.end_date,this.customDateFormat):""],form:{name:(n=(t=this.exam)==null?void 0:t.name)!=null?n:"",grade:(b=(c=this.exam)==null?void 0:c.grade)!=null?b:"",gpa:(h=(u=this.exam)==null?void 0:u.gpa)!=null?h:"",start_date:(p=(i=this.exam)==null?void 0:i.start_date)!=null?p:"",end_date:(l=this.exam)==null?void 0:l.end_date,description:(_=(f=this.exam)==null?void 0:f.description)!=null?_:"",course:(a=(y=this.exam)==null?void 0:y.course_id)!=null?a:"",_method:this.exam?"PUT":"POST"}}},watch:{date:{deep:!0,handler(e,r){e&&(console.log(e),this.form.start_date=k(e[0]),this.form.end_date=k(e[1]))}}},created(){for(const[e,r]of Object.entries(this.courses))this.options2.push({value:r.id,label:r.name});this.update||(this.form.course=this.options2[0]?this.options2[0].value:"")},methods:{submit(){this.loading=!0,this.exam?this.$inertia.post(this.route("exam.update",this.exam.id),this.form,{preserveScroll:!0,onSuccess:()=>{this.reset()},onFinish:e=>{this.loading=!1}}):this.$inertia.post(this.route("exam.store"),this.form,{preserveScroll:!0,onSuccess:()=>{this.reset()},onFinish:e=>{this.loading=!1}})},filterOption(e,r){return r.label.toLowerCase().indexOf(e.toLowerCase())>=0},reset(){this.form.name="",this.form.date=null,this.form.description="",this.form.course=[]},validateDecimal(e){var r=this.form.gpa,m=parseFloat(r).toFixed(2);this.form.gpa=m}}},O={class:"mx-auto pb-12"},q={class:"rounded-lg flex justify-between items-center mb-4 py-4 px-6 text-lg font-semibold rtl:text-right text-left text-gray-900 bg-white dark:text-white dark:bg-gray-800"},j={class:"dark:text-gray-400"},A={class:"rounded-lg"},N={class:"grid sm:grid-cols-1 md:grid-cols-2 sm:gap-1 md:gap-4"},T={class:"w-full bg-white rounded-lg border border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},M={class:"mb-3"},Y={class:"mb-3"},P={class:"mb-3"},z={class:"w-full bg-white rounded-lg border border-gray-200 p-4 dark:bg-gray-800 dark:border-gray-700"},G={class:"mb-3"},I={class:"mb-3"},K={class:"mb-1"},R=["placeholder"];function H(e,r,m,v,t,n){const c=d("BreadcrumbLink"),b=d("Breadcrumb"),u=d("global-button"),h=d("Link"),i=d("global-label"),p=d("global-input"),l=d("input-error"),f=d("a-select"),_=d("a-range-picker"),y=d("AppLayout");return F(),B(y,{title:e.__(t.text)},{default:g(()=>[o(b,null,{default:g(()=>[o(c,{title:e.__("text")},null,8,["title"])]),_:1}),s("div",O,[s("div",q,[s("div",j,x(e.__(t.text)),1),o(h,{"preserve-scroll":"",href:e.route("exam.index")},{default:g(()=>[o(u,{loading:!1,type:"button",theme:"primary"},{default:g(()=>[D(x(e.__("All Exam")),1)]),_:1})]),_:1},8,["href"])]),s("div",A,[s("form",{onSubmit:r[7]||(r[7]=S((...a)=>n.submit&&n.submit(...a),["prevent"]))},[s("div",N,[s("div",T,[s("div",M,[o(i,{for:"examName",value:"Enter exam name",required:!0}),o(p,{modelValue:t.form.name,"onUpdate:modelValue":r[0]||(r[0]=a=>t.form.name=a),type:"text",id:"examName",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter exam name"),error:e.$page.props.errors.name},null,8,["modelValue","placeholder","error"]),o(l,{error:e.$page.props.errors.name},null,8,["error"])]),s("div",Y,[o(i,{for:"grade",value:"Grade",required:!0}),o(p,{modelValue:t.form.grade,"onUpdate:modelValue":r[1]||(r[1]=a=>t.form.grade=a),type:"text",id:"mark",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter mark"),error:e.$page.props.errors.grade},null,8,["modelValue","placeholder","error"]),o(l,{error:e.$page.props.errors.grade},null,8,["error"])]),s("div",P,[o(i,{for:"gpa",value:"GPA",required:!0}),o(p,{modelValue:t.form.gpa,"onUpdate:modelValue":r[2]||(r[2]=a=>t.form.gpa=a),step:"any",onChange:r[3]||(r[3]=a=>n.validateDecimal(a)),type:"number",id:"gpa",class:"mt-1 block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Enter mark"),error:e.$page.props.errors.gpa},null,8,["modelValue","placeholder","error"]),o(l,{error:e.$page.props.errors.gpa},null,8,["error"])])]),s("div",z,[s("div",G,[o(i,{for:"selectKlass",value:"Select Course",required:!0}),o(f,{class:w([e.$page.props.errors.course?"border-custom ":"","width-100"]),size:"large",value:t.form.course,"onUpdate:value":r[4]||(r[4]=a=>t.form.course=a),"show-search":"",placeholder:e.__("Select a course"),options:t.options2,"filter-option":n.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["class","value","placeholder","options","filter-option","onFocus","onBlur","onChange"]),o(l,{error:e.$page.props.errors.course},null,8,["error"])]),s("div",I,[o(i,{for:"date",value:"Date",required:!0}),o(_,{class:w([e.$page.props.errors.date?"border-custom":"","custom-input dark:bg-gray-700 dark:border-gray-700 dark:text-gray-400"]),name:"date","disabled-date":e.disabledDate,"disabled-time":e.disabledRangeTime,value:t.date,"onUpdate:value":r[5]||(r[5]=a=>t.date=a),format:t.customDateFormat,id:"testDate"},null,8,["class","disabled-date","disabled-time","value","format"]),o(l,{error:e.$page.props.errors.start_date},null,8,["error"]),o(l,{error:e.$page.props.errors.end_date},null,8,["error"])]),s("div",K,[o(i,{for:"description",value:"Description",required:!1}),L(s("textarea",{rows:"","onUpdate:modelValue":r[6]||(r[6]=a=>t.form.description=a),name:"",placeholder:e.__("Description"),id:"description",class:w([e.$page.props.errors.description?"border-red-500 dark:border-red-500":"","pl-4 bg-gray-50 border rounded-lg border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"])},null,10,R),[[U,t.form.description]]),o(l,{error:e.$page.props.errors.description},null,8,["error"])])])]),o(u,{loading:t.form.processing,type:"submit",cssClass:"w-full mt-3",theme:"primary"},{default:g(()=>[D(x(e.__("Save")),1)]),_:1},8,["loading"])],32)])])]),_:1},8,["title"])}const se=V(E,[["render",H],["__scopeId","data-v-e7618c75"]]);export{se as default};
