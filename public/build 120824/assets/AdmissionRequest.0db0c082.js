import{_ as P}from"./AppLayout.92e3dc20.js";import{T}from"./ToolTip.fb07743d.js";import{P as U}from"./Pagination.d9e94619.js";import{_ as G,N as X,o as u,c as z,w as a,a as o,b as t,g as p,t as i,C as h,e as m,i as K,F as H,r as l}from"./app.e9253fa3.js";import J from"./Show.aaa7abe9.js";import{r as Q}from"./PencilSquareIcon.30ea6c05.js";import{r as W}from"./EyeIcon.764f9299.js";import{r as Y}from"./MagnifyingGlassIcon.28c2d96b.js";import{r as Z}from"./CheckIcon.55a31ffa.js";import{r as $}from"./XMarkIcon.0053782e.js";import"./TopBarMenu.2596137d.js";import"./CheckCircleIcon.0e5b0fb8.js";import"./shepherd.esm.74749cbe.js";import"./WarningToast.774e905f.js";import"./NavLink.0361e60b.js";import"./PlusCircleIcon.4f4dbd04.js";import"./UserIcon.2a40eb34.js";import"./Bars3Icon.f96b062a.js";import"./Square3Stack3DIcon.f26c75c0.js";const ee={components:{AppLayout:P,ToolTip:T,PencilSquareIcon:Q,Pagination:U,EyeIcon:W,MagnifyingGlassIcon:Y,CheckIcon:Z,XMarkIcon:$,ShowModal:J,NothingFound:X},props:{admission_requests:Array,filter_data:Object,classes:Object,departments:Object},data(){var e,s,c;return{loading:!1,visible:!1,show_admission:"",options:[],options2:[],filter:{keyword:(e=this.filter_data.keyword)!=null?e:null,course:(s=this.filter_data.course)!=null?s:null,department:(c=this.filter_data.department)!=null?c:null}}},methods:{filterData(){this.loading=!0,this.$inertia.get(this.route("student.admission.request"),this.filter,{preserveScroll:!0,onFinish:e=>{this.loading=!1}})},filterOption(e,s){return s.label.toLowerCase().indexOf(e.toLowerCase())>=0},destroy(e){if(confirm("Are you sure to reject the request?"))this.$inertia.delete(this.route("student.admission.request.reject",e));else return!1},show(e){this.show_admission=e,this.visible=!0},hide(e){this.visible=!1}},created(){this.options.push({value:"",label:"All"});for(const[e,s]of Object.entries(this.classes))this.options.push({value:s.slug,label:s.name});this.options2.push({value:"",label:"All"});for(const[e,s]of Object.entries(this.departments))this.options2.push({value:s.slug,label:s.name})}},te={class:"mb-4"},oe={class:"flex col-span-2"},se={class:"relative w-full"},ne={type:"submit",class:"absolute top-0 right-0 p-2.5 text-sm font-medium text-white bg-blue-700 rounded-r-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},le={class:"sr-only"},ie={class:"col-span-2"},re={class:"col-span-2"},ae={class:"col-span-1"},de={class:"py-5 px-5"},ce={class:"py-5"},ue={class:"py-5"},pe={class:"py-5"},_e={class:"py-5 w-50"},he={width:"10%",class:"py-5"},me={scope:"row",class:"flex items-center py-5 px-5 text-gray-900 whitespace-nowrap dark:text-white"},fe={class:"pl-3"},be={class:"text-base font-semibold dark:text-gray-400"},ge={class:"font-normal text-gray-500 dark:text-gray-400"},ye={class:"py-5"},ve={class:"py-5"},ke={class:"py-5"},we={class:"py-5 w-96 pr-3"},Ce={class:"py-5 flex gap-2"},Ae=["onClick"],Se=["onClick"],Be={key:1},Ie={colspan:"4",class:"text-center p-4"},Fe={class:"flex justify-center"};function Oe(e,s,c,Le,r,d){const f=l("BreadcrumbLink"),A=l("Breadcrumb"),b=l("global-button"),S=l("page-header"),B=l("global-input"),I=l("MagnifyingGlassIcon"),g=l("a-select"),F=l("CheckIcon"),_=l("tool-tip"),O=l("Link"),L=l("EyeIcon"),j=l("XMarkIcon"),x=l("NothingFound"),M=l("global-table"),R=l("pagination"),q=l("a-button"),N=l("show-modal"),D=l("a-modal"),V=l("AppLayout");return u(),z(V,{title:e.__("Student Admission Request")},{default:a(()=>[o(A,null,{default:a(()=>[o(f,{href:e.route("student.admission.index"),title:"Student Admission"},null,8,["href"]),o(f,{title:e.__("Student Admission Request")},null,8,["title"])]),_:1}),t("div",null,[o(S,null,{content:a(()=>[o(b,{loading:!1,"preserve-scroll":"",type:"link",url:e.route("student.admission.index"),theme:"primary"},{default:a(()=>[p(i(e.__("All Student")),1)]),_:1},8,["url"])]),default:a(()=>[p(i(e.__("Student Admission Request"))+" ",1)]),_:1}),t("div",te,[t("form",{class:"items-center grid grid-cols-1 md:grid-cols-7 gap-6",onSubmit:s[3]||(s[3]=h(n=>d.filterData(),["prevent"]))},[t("div",oe,[t("div",se,[o(B,{type:"search",modelValue:r.filter.keyword,"onUpdate:modelValue":s[0]||(s[0]=n=>r.filter.keyword=n),class:"block w-full dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400",placeholder:e.__("Keyword")},null,8,["modelValue","placeholder"]),t("button",ne,[o(I,{class:"w-5 h-5"}),t("span",le,i(e.__("Search")),1)])])]),t("div",ie,[o(g,{class:"width-100",size:"large",value:r.filter.course,"onUpdate:value":s[1]||(s[1]=n=>r.filter.course=n),"show-search":"",placeholder:e.__("Select a course"),options:r.options,"filter-option":d.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["value","placeholder","options","filter-option","onFocus","onBlur","onChange"])]),t("div",re,[o(g,{class:"width-100",size:"large",value:r.filter.department,"onUpdate:value":s[2]||(s[2]=n=>r.filter.department=n),"show-search":"",placeholder:e.__("Select a department"),options:r.options2,"filter-option":d.filterOption,onFocus:e.handleFocus,onBlur:e.handleBlur,onChange:e.handleChange},null,8,["value","placeholder","options","filter-option","onFocus","onBlur","onChange"])]),t("div",ae,[o(b,{loading:r.loading,type:"submit",theme:"primary"},{default:a(()=>[p(i(e.__("Search")),1)]),_:1},8,["loading"])])],32)]),o(M,null,{head:a(()=>[t("th",de,i(e.__("Student")),1),t("th",ce,i(e.__("Parent Email")),1),t("th",ue,i(e.__("Course")),1),t("th",pe,i(e.__("Department")),1),t("th",_e,i(e.__("Address")),1),t("th",he,i(e.__("Action")),1)]),body:a(()=>[c.admission_requests.data.length>0?(u(!0),m(H,{key:0},K(c.admission_requests.data,n=>{var y,v,k,w,C;return u(),m("tr",{key:n.id,class:"border-t dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"},[t("th",me,[t("div",fe,[t("div",be,i(n.name),1),t("div",ge,i(n.email),1)])]),t("td",ye,i(n.parent_email),1),t("td",ve,i((v=(y=n.class)==null?void 0:y.name)!=null?v:""),1),t("td",ke,i((w=(k=n.department)==null?void 0:k.name)!=null?w:""),1),t("td",we,i((C=n.address)!=null?C:""),1),t("td",Ce,[o(O,{"preserve-scroll":"",href:e.route("student.admission.request.accept",n.id),class:"group relative"},{default:a(()=>[o(F,{classes:"w-6 h-6 text-blue-400 hover:text-blue-300"}),o(_,{text:e.__("Accept Request")},null,8,["text"])]),_:2},1032,["href"]),t("button",{type:"button",onClick:h(E=>d.show(n),["prevent"]),class:"group relative"},[o(L,{classes:"w-6 h-6 text-pink-400 hover:text-pink-300"}),o(_,{text:e.__("Details Request")},null,8,["text"])],8,Ae),t("button",{type:"button",onClick:h(E=>d.destroy(n.id),["prevent"]),class:"group relative"},[o(j,{class:"w-6 h-6 text-red-400 hover:text-red-300"}),o(_,{text:e.__("Reject Request")},null,8,["text"])],8,Se)])])}),128)):(u(),m("tr",Be,[t("td",Ie,[o(x,{asShow:"div"})])]))]),_:1}),t("div",Fe,[o(R,{class:"mt-6 mb-6",links:c.admission_requests.links},null,8,["links"])])]),o(D,{visible:r.visible,"onUpdate:visible":s[4]||(s[4]=n=>r.visible=n),title:"Admission Details",onOk:d.hide},{footer:a(()=>[o(q,{key:"back",onClick:d.hide},{default:a(()=>[p(i(e.__("Close")),1)]),_:1},8,["onClick"])]),default:a(()=>[o(N,{admission:r.show_admission},null,8,["admission"])]),_:1},8,["visible","onOk"])]),_:1},8,["title"])}const We=G(ee,[["render",Oe]]);export{We as default};
